!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports.Editable=t(require("jQuery")):e.Editable=t(e.jQuery)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var o=n(1),a=i(o),s=n(2),u=i(s),c=n(3),l=i(c),f=n(7),d=i(f),h=n(8),g=r(h),p=n(32),v=i(p),m=n(15),y=r(m),b=n(46),S=r(b),C=n(9),w=r(C),N=n(47),R=r(N),_=n(69),E=i(_),O=n(25),x=i(O),k=n(30),M=i(k),T=n(70),A=i(T),P=n(68),B=i(P),F=n(54),I=i(F),L=e.exports=function(){function e(t){(0,a.default)(this,e);var n={window:window,defaultBehavior:!0,mouseMoveSelectionChanges:!1,browserSpellcheck:!0};this.config=l.default.extend(n,t),this.win=this.config.window,this.editableSelector="."+g.editableClass,d.default.initialized||d.default.init(),this.dispatcher=new E.default(this),this.config.defaultBehavior===!0&&this.dispatcher.on((0,B.default)(this))}return(0,u.default)(e,[{key:"add",value:function(e){return this.enable((0,l.default)(e)),this}},{key:"remove",value:function(e){var t=(0,l.default)(e);return this.disable(t),t.removeClass(g.editableDisabledClass),this}},{key:"disable",value:function(e){var t=this.win.document.body;return e=e||(0,l.default)("."+g.editableClass,t),e.each(function(e,t){return S.disable(t)}),this}},{key:"enable",value:function(e,t){var n=this,r=this.win.document.body;e=e||(0,l.default)("."+g.editableDisabledClass,r);var i=this.config.browserSpellcheck;return e.each(function(e,r){S.init(r,{normalize:t,shouldSpellcheck:i}),n.dispatcher.notify("init",r)}),this}},{key:"suspend",value:function(e){var t=this.win.document.body;return e=e||(0,l.default)("."+g.editableClass,t),e.removeAttr("contenteditable"),this.dispatcher.suspend(),this}},{key:"continue",value:function(e){var t=this.win.document.body;return e=e||(0,l.default)("."+g.editableClass,t),e.attr("contenteditable",!0),this.dispatcher.continue(),this}},{key:"createCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"beginning",n=(0,l.default)(e).closest(this.editableSelector);if(n.length){var r=d.default.createRange();return"beginning"===t||"end"===t?(r.selectNodeContents(e),r.collapse("beginning"===t)):e!==n[0]?"before"===t?(r.setStartBefore(e),r.setEndBefore(e)):"after"===t&&(r.setStartAfter(e),r.setEndAfter(e)):(0,v.default)("EditableJS: cannot create cursor outside of an editable block."),new x.default(n[0],r)}}},{key:"createCursorAtBeginning",value:function(e){return this.createCursor(e,"beginning")}},{key:"createCursorAtEnd",value:function(e){return this.createCursor(e,"end")}},{key:"createCursorBefore",value:function(e){return this.createCursor(e,"before")}},{key:"createCursorAfter",value:function(e){return this.createCursor(e,"after")}},{key:"getContent",value:function(e){return w.extractContent(e)}},{key:"appendTo",value:function(e,t){var n=w.adoptElement(e,this.win.document),r=this.createCursor(n,"end");return r.insertAfter("string"==typeof t?w.createFragmentFromString(t):t),r}},{key:"prependTo",value:function(e,t){var n=w.adoptElement(e,this.win.document),r=this.createCursor(n,"beginning");return r.insertBefore("string"==typeof t?w.createFragmentFromString(t):t),r}},{key:"getSelection",value:function(e){var t=this.dispatcher.selectionWatcher.getFreshSelection();if(!e||!t)return t;var n=t.range;try{n.compareNode(e)!==n.NODE_BEFORE_AND_AFTER&&(t=void 0)}catch(e){t=void 0}return t}},{key:"setupHighlighting",value:function(e){return this.highlighting=new A.default(this,e),this}},{key:"setupSpellcheck",value:function(e){var t=this,n=void 0;e.markerNode&&(n=e.markerNode.outerHTML),this.setupHighlighting({throttle:e.throttle,spellcheck:{marker:n,spellcheckService:e.spellcheckService}}),this.spellcheck={checkSpelling:function(e){t.highlighting.highlight(e)}}}},{key:"highlight",value:function(e){var t=e.editableHost,n=e.text,r=e.highlightId,i=e.textRange,o=e.raiseEvents;return i?"number"!=typeof i.start||"number"!=typeof i.end?((0,v.default)("Error in Editable.highlight: You passed a textRange object with invalid keys. Expected shape: { start: Number, end: Number }"),-1):i.start===i.end?((0,v.default)("Error in Editable.highlight: You passed a textRange object with equal start and end offsets, which is considered a cursor and therefore unfit to create a highlight."),-1):M.default.highlightRange(t,r,i.start,i.end,o?this.dispatcher:void 0):M.default.highlightText(t,n,r)}},{key:"getHighlightPositions",value:function(e){var t=e.editableHost;return M.default.extractHighlightedRanges(t)}},{key:"removeHighlight",value:function(e){var t=e.editableHost,n=e.highlightId,r=e.raiseEvents;M.default.removeHighlight(t,n,r?this.dispatcher:void 0)}},{key:"decorateHighlight",value:function(e){var t=e.editableHost,n=e.highlightId,r=e.addCssClass,i=e.removeCssClass;M.default.updateHighlight(t,n,r,i)}},{key:"on",value:function(e,t){return this.dispatcher.on(e,t),this}},{key:"off",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.dispatcher.off.apply(this.dispatcher,t),this}},{key:"unload",value:function(){return this.dispatcher.unload(),this}}],[{key:"getGlobalConfig",value:function(){return g}},{key:"globalConfig",value:function(e){l.default.extend(g,e),R.updateConfig(g)}}]),e}();L.parser=y,L.content=w,L.browser=I.default,["focus","blur","flow","selection","cursor","newline","insert","split","merge","empty","change","switch","move","clipboard","paste"].forEach(function(e){L.prototype[e]=function(t){return this.on(e,t)}})},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(81),o=r(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(t,n){t.exports=e},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(41)("wks"),i=n(29),o=n(10).Symbol,a="function"==typeof o,s=e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.elementNode=1,t.attributeNode=2,t.textNode=3,t.cdataSectionNode=4,t.entityReferenceNode=5,t.entityNode=6,t.processingInstructionNode=7,t.commentNode=8,t.documentNode=9,t.documentTypeNode=10,t.documentFragmentNode=11,t.notationNode=12},function(e,t,n){var r,i;!function(o,a){r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(function(){function e(e,t){var n=typeof e[t];return n==S||!(n!=b||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=b||!e[t])}function n(e,t){return typeof e[t]!=C}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function i(e){return e&&E(e,_)&&x(e,R)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=C&&e(console,"log")&&console.log(t)}function s(e,t){T&&t?alert(e):a(e)}function u(e){P.initialized=!0,P.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,P.config.alertOnFail)}function c(e){s("Rangy warning: "+e,P.config.alertOnWarn)}function l(e){return e.message||e.description||String(e)}function f(){if(T&&!P.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),E(t,N)&&x(t,w)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void u("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),i(t)&&(r=!0)),!n&&!r)return void u("Neither Range nor TextRange are available");P.initialized=!0,P.features={implementsDomRange:n,implementsTextRange:r};var c,f;for(var d in M)(c=M[d])instanceof p&&c.init(c,P);for(var h=0,g=I.length;h<g;++h)try{I[h](P)}catch(e){f="Rangy init listener threw an exception. Continuing. Detail: "+l(e),a(f)}}}function d(e,t,n){n&&(e+=" in module "+n.name),P.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function h(e,t,n,r){e[t]=function(){return d(t,n,r),e[n].apply(e,A.toArray(arguments))}}function g(e){e=e||window,f();for(var t=0,n=L.length;t<n;++t)L[t](e)}function p(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function v(e,t,n){var r=new p(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(P,t),t.supported=!0}catch(t){var r="Module '"+e+"' failed to load: "+l(t);a(r),t.stack&&a(t.stack)}}});return M[e]=r,r}function m(){}function y(){}var b="object",S="function",C="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],N=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],R=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],_=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],E=r(e),O=r(t),x=r(n),k=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)},M={},T=typeof window!=C&&typeof document!=C,A={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:E,areHostObjects:O,areHostProperties:x,isTextRange:i,getBody:o,forEach:k},P={version:"1.3.0",initialized:!1,isBrowser:T,supported:!0,util:A,features:{},modules:M,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==C||rangyAutoInitialize}};P.fail=u,P.warn=c;var B;({}).hasOwnProperty?(A.extend=B=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&B(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},A.createOptions=function(e,t){var n={};return B(n,t),e&&B(n,e),n}):u("hasOwnProperty not supported"),T||u("Rangy can only run in a browser"),function(){var e;if(T){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),A.toArray=e}();var F;T&&(e(document,"addEventListener")?F=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?F=function(e,t,n){e.attachEvent("on"+t,n)}:u("Document does not have required addEventListener or attachEvent method"),A.addListener=F);var I=[];A.deprecationNotice=d,A.createAliasForDeprecatedMethod=h,P.init=f,P.addInitListener=function(e){P.initialized?e(P):I.push(e)};var L=[];P.addShimListener=function(e){L.push(e)},T&&(P.shim=P.createMissingNativeApi=g,h(P,"createMissingNativeApi","shim")),p.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(t=n[r],e=M[t],!(e&&e instanceof p))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){P.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){P.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},P.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=v(e,n,t);P.initialized&&P.supported&&r.init()},P.createCoreModule=function(e,t,n){v(e,t,n)},P.RangePrototype=m,P.rangePrototype=new m,P.selectionPrototype=new y,P.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==T||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function r(e){var t=e.parentNode;return 1==t.nodeType?t:null}function i(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(I(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function u(e,t){return s(e,t,!0)}function c(e,t,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.parentNode,r===t)return i;i=r}return null}function l(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function d(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function h(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),d(r,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>i(e)&&++o.offset;return r}function g(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=T)return e.ownerDocument;if(typeof e.document!=T)return e.document;if(e.parentNode)return g(e.parentNode);throw t.createError("getDocument: no document found for node")}function p(e){var n=g(e);if(typeof n.defaultView!=T)return n.defaultView;if(typeof n.parentWindow!=T)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function v(e){if(typeof e.contentDocument!=T)return e.contentDocument;if(typeof e.contentWindow!=T)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=T)return e.contentWindow;if(typeof e.contentDocument!=T)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&A.isHostMethod(e,"setTimeout")&&A.isHostObject(e,"document")}function b(e,t,n){var r;if(e?A.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?v(e):g(e):y(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function S(e){for(var t;t=e.parentNode;)e=t;return e}function C(e,n,r,o){var s,u,l,f,d;if(e==r)return n===o?0:n<o?-1:1;if(s=c(r,e,!0))return n<=i(s)?-1:1;if(s=c(e,r,!0))return i(s)<o?-1:1;if(u=a(e,r),!u)throw new Error("comparePoints error: nodes have no common ancestor");if(l=e===u?u:c(e,u,!0),f=r===u?u:c(r,u,!0),l===f)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=u.firstChild;d;){if(d===l)return-1;if(d===f)return 1;d=d.nextSibling}}function w(e){var t;try{return t=e.parentNode,!1}catch(e){return!0}}function N(e){if(!e)return"[No node]";if(L&&w(e))return"[Broken node]";if(l(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+i(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function R(e){for(var t,n=g(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function _(e,t,n){var r=P(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i}function E(e){return e.parentNode.removeChild(e)}function O(e){this.root=e,this._next=e}function x(e){return new O(e)}function k(e,t){this.node=e,this.offset=t}function M(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var T="undefined",A=e.util,P=A.getBody;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var B=document.createElement("div");A.areHostMethods(B,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),A.isHostProperty(B,"innerHTML")||t.fail("Element is missing innerHTML property");var F=document.createTextNode("test");A.areHostMethods(F,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(F,["data"]))||t.fail("Incomplete Text Node implementation");var I=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},L=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",L=w(n),e.features.crashyTextNodes=L}();var D;typeof window.getComputedStyle!=T?D=function(e,t){return p(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=T?D=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),O.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},k.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+N(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},M.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},M.prototype.toString=function(){return this.message},e.dom={arrayContains:I,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:u,getClosestAncestorIn:c,isCharacterDataNode:l,isTextOrCommentNode:f,insertAfter:d,splitDataNode:h,getDocument:g,getWindow:p,getIframeWindow:m,getIframeDocument:v,getBody:P,isWindow:y,getContentDocument:b,getRootContainer:S,comparePoints:C,isBrokenNode:w,inspectNode:N,getComputedStyleProperty:D,createTestElement:_,removeNode:E,fragmentFromNodeChildren:R,createIterator:x,DomPosition:k},e.DOMException=M}),P.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(W(e,t.startContainer)||W(e,t.endContainer))}function r(e){return e.document||V(e.startContainer)}function i(e){return $(e.startContainer)}function o(e){return new L(e.parentNode,j(e))}function a(e){return new L(e.parentNode,j(e)+1)}function s(e,t,n){var r=11==e.nodeType?e.firstChild:e;return H(t)?n==t.length?F.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:q(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function u(e,t,n){if(_(e),_(t),r(t)!=r(e))throw new D("WRONG_DOCUMENT_ERR");var i=z(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=z(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?i<=0&&o>=0:i<0&&o>0}function c(e){for(var t,n,i,o=r(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(i=e.getSubtreeIterator(),n.appendChild(c(i)),i.detach()),10==n.nodeType)throw new D("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function l(e,t,n){var r,i;n=n||{stop:!1};for(var o,a;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),l(a,t,n),a.detach(),n.stop)return}else for(r=F.createIterator(o);i=r.next();)if(t(i)===!1)return void(n.stop=!0)}function f(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),f(t),t.detach()):e.remove()}function d(e){for(var t,n,i=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(d(n)),n.detach()):e.remove(),10==t.nodeType)throw new D("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function h(e,t,n){var r,i=!(!t||!t.length),o=!!n;i&&(r=new RegExp("^("+t.join("|")+")$"));var a=[];return l(new p(e,!1),function(t){if((!i||r.test(t.nodeType))&&(!o||n(t))){var s=e.startContainer;if(t!=s||!H(s)||e.startOffset!=s.length){var u=e.endContainer;t==u&&H(u)&&0==e.endOffset||a.push(t)}}}),a}function g(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+F.inspectNode(e.startContainer)+":"+e.startOffset+", "+F.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&H(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||H(this.sc)?G(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||H(this.ec)?G(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function v(e){return function(t,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.nodeType,K(e,r))return i;i=i.parentNode}return null}}function m(e,t){if(ie(e,t))throw new D("INVALID_NODE_TYPE_ERR")}function y(e,t){if(!K(t,e.nodeType))throw new D("INVALID_NODE_TYPE_ERR")}function b(e,t){if(t<0||t>(H(e)?e.length:e.childNodes.length))throw new D("INDEX_SIZE_ERR")}function S(e,t){if(ne(e,!0)!==ne(t,!0))throw new D("WRONG_DOCUMENT_ERR")}function C(e){if(re(e,!0))throw new D("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new D(t)}function N(e,t){return t<=(H(e)?e.length:e.childNodes.length)}function R(e){return!!e.startContainer&&!!e.endContainer&&!(Q&&(F.isBrokenNode(e.startContainer)||F.isBrokenNode(e.endContainer)))&&$(e.startContainer)==$(e.endContainer)&&N(e.startContainer,e.startOffset)&&N(e.endContainer,e.endOffset)}function _(e){if(!R(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function E(e,t){_(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n===i;H(i)&&o>0&&o<i.length&&q(i,o,t),H(n)&&r>0&&r<n.length&&(n=q(n,r,t),a?(o-=r,i=n):i==n.parentNode&&o>=j(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function O(e){_(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function x(e){e.START_TO_START=ce,e.START_TO_END=le,e.END_TO_END=fe,e.END_TO_START=de,e.NODE_BEFORE=he,e.NODE_AFTER=ge,e.NODE_BEFORE_AND_AFTER=pe,e.NODE_INSIDE=ve}function k(e){x(e),x(e.prototype)}function M(e,t){return function(){_(this);var n,r,i=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,u=new p(this,!0);i!==s&&(n=G(i,s,!0),r=a(n),i=r.node,o=r.offset),l(u,C),u.reset();var c=e(u);return u.detach(),t(this,i,o,i,o),c}}function T(t,r){function i(e,t){return function(n){y(n,Z),y($(n),J);var r=(e?o:a)(n);(t?s:u)(this,r.node,r.offset)}}function s(e,t,n){var i=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||($(t)==$(i)&&1!=z(t,n,i,o)||(i=t,o=n),r(e,t,n,i,o))}function u(e,t,n){var i=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||($(t)==$(i)&&z(t,n,i,o)!=-1||(i=t,o=n),r(e,i,o,t,n))}var c=function(){};c.prototype=e.rangePrototype,t.prototype=new c,I.extend(t.prototype,{setStart:function(e,t){m(e,!0),b(e,t),s(this,e,t)},setEnd:function(e,t){m(e,!0),b(e,t),u(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:i=e[2],o=e[3]}r(this,t,n,i,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(e){_(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){m(e,!0),r(this,e,0,e,U(e))},selectNode:function(e){m(e,!1),y(e,Z);var t=o(e),n=a(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:M(d,r),deleteContents:M(f,r),canSurroundContents:function(){_(this),C(this.startContainer),C(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){E(this)},splitBoundariesPreservingPositions:function(e){E(this,e)},normalizeBoundaries:function(){_(this);var e,t=this.startContainer,n=this.startOffset,i=this.endContainer,o=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,o=e.length,e.appendData(t.data),Y(t))},s=function(e){var r=e.previousSibling;if(r&&r.nodeType==e.nodeType){t=e;var a=e.length;if(n=r.length,e.insertData(0,r.data),Y(r),t==i)o+=n,i=t;else if(i==e.parentNode){var s=j(e);o==s?(i=e,o=a):o>s&&o--}}},u=!0;if(H(i))o==i.length?a(i):0==o&&(e=i.previousSibling,e&&e.nodeType==i.nodeType&&(o=e.length,t==i&&(u=!1),e.appendData(i.data),Y(i),i=e));else{if(o>0){var c=i.childNodes[o-1];c&&H(c)&&a(c)}u=!this.collapsed}if(u){if(H(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(i==e&&(i=t,o+=t.length),t.appendData(e.data),Y(e)));else if(n<t.childNodes.length){var l=t.childNodes[n];l&&H(l)&&s(l)}}else t=i,n=o;r(this,t,n,i,o)},collapseToPoint:function(e,t){m(e,!0),b(e,t),this.setStartAndEnd(e,t)}}),k(t)}function A(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:F.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=F.getDocument(t),A(e)}function B(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,A(this)}var F=e.dom,I=e.util,L=F.DomPosition,D=e.DOMException,H=F.isCharacterDataNode,j=F.getNodeIndex,W=F.isOrIsAncestorOf,V=F.getDocument,z=F.comparePoints,q=F.splitDataNode,G=F.getClosestAncestorIn,U=F.getNodeLength,K=F.arrayContains,$=F.getRootContainer,Q=e.features.crashyTextNodes,Y=F.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,H(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!H(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Y(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return n(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new B(r(this.range));var t=this._current,n=t,i=0,o=t,a=U(t);W(t,this.sc)&&(n=this.sc,i=this.so),W(t,this.ec)&&(o=this.ec,a=this.eo),P(e,n,i,o,a)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],J=[2,9,11],X=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=v([9,11]),re=v(X),ie=v([6,10,12]),oe=document.createElement("style"),ae=!1;try{oe.innerHTML="<b>x</b>",ae=3==oe.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=ae;var se=ae?function(e){var t=this.startContainer,n=V(t);if(!t)throw new D("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:H(t)&&(r=F.parentElement(t)),r=null===r||"HTML"==r.nodeName&&F.isHtmlNamespace(V(r).documentElement)&&F.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,F.fragmentFromNodeChildren(r)}:function(e){var t=r(this),n=t.createElement("body");return n.innerHTML=e,F.fragmentFromNodeChildren(n)},ue=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ce=0,le=1,fe=2,de=3,he=0,ge=1,pe=2,ve=3;I.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){_(this),S(this.startContainer,t.startContainer);var n,r,i,o,a=e==de||e==ce?"start":"end",s=e==le||e==ce?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=t[s+"Container"],o=t[s+"Offset"],z(n,r,i,o)},insertNode:function(e){if(_(this),y(e,ee),C(this.startContainer),W(e,this.startContainer))throw new D("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){_(this);var e,t;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&H(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=r(this).createDocumentFragment(),t.appendChild(e),t;var n=new p(this,!0);return e=c(n),n.detach(),e},canSurroundContents:function(){_(this),C(this.startContainer),C(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(y(e,te),!this.canSurroundContents())throw new D("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){_(this);for(var e,t=new B(r(this)),n=ue.length;n--;)e=ue[n],t[e]=this[e];return t},toString:function(){_(this);var e=this.startContainer;if(e===this.endContainer&&H(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,!0);return l(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){_(this);var t=e.parentNode,n=j(e);if(!t)throw new D("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return r<0?i>0?pe:he:i>0?ge:ve},comparePoint:function(e,t){return _(this),w(e,"HIERARCHY_REQUEST_ERR"),S(e,this.startContainer),z(e,t,this.startContainer,this.startOffset)<0?-1:z(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return O(this)},intersectsNode:function(e,t){if(_(this),$(e)!=i(this))return!1;var n=e.parentNode,r=j(e);if(!n)return!0;var o=z(n,r,this.endContainer,this.endOffset),a=z(n,r+1,this.startContainer,this.startOffset);return t?o<=0&&a>=0:o<0&&a>0},isPointInRange:function(e,t){return _(this),w(e,"HIERARCHY_REQUEST_ERR"),S(e,this.startContainer),z(e,t,this.startContainer,this.startOffset)>=0&&z(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return u(this,e,!1)},intersectsOrTouchesRange:function(e){return u(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=z(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=z(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return t==-1&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return z(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(e.startContainer,e.startOffset),1==z(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new D("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ve},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,U(e))<=0;
},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return _(this),h(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=r(this),i=e.createRange(n);t=t||F.getBody(n),i.selectNodeContents(t);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),a=i.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,a,s=[t],u=!1,c=!1;!c&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!u&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),u=!0),u&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),c=!0),n=i;else for(a=r.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return B.rangesEqual(this,e)},isValid:function(){return R(this)},inspect:function(){return g(this)},detach:function(){}}),T(B,P),I.extend(B,{rangeProperties:ue,RangeIterator:p,copyComparisonConstants:k,createPrototypeRange:T,inspect:g,toHtml:O,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=B}),P.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,i=e.dom,o=e.util,a=i.DomPosition,s=e.DomRange,u=i.getBody,c=i.getContentDocument,l=i.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function r(e){for(var t,n=d.length;n--;)t=d[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}var l,f,d=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,a),l=n.prototype,l.selectNode=function(e){this.nativeRange.selectNode(e),r(this)},l.cloneContents=function(){return this.nativeRange.cloneContents()},l.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},l.collapse=function(e){this.nativeRange.collapse(e),r(this)},l.cloneRange=function(){return new n(this.nativeRange.cloneRange())},l.refresh=function(){r(this)},l.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");u(document).appendChild(h);var g=document.createRange();g.setStart(h,0),g.setEnd(h,0);try{g.setStart(h,1),l.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},l.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},f=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(e){l.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},l.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},f=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}l.setStartBefore=f("setStartBefore","setEndBefore"),l.setStartAfter=f("setStartAfter","setEndAfter"),l.setEndBefore=f("setEndBefore","setStartBefore"),l.setEndAfter=f("setEndAfter","setStartAfter"),l.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},g.selectNodeContents(h),g.setEnd(h,3);var p=document.createRange();p.selectNodeContents(h),p.setEnd(h,4),p.setStart(h,2),g.compareBoundaryPoints(g.START_TO_END,p)==-1&&1==g.compareBoundaryPoints(g.END_TO_START,p)?l.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:l.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var v=document.createElement("div");v.innerHTML="123";var m=v.firstChild,y=u(document);y.appendChild(v),g.setStart(m,1),g.setEnd(m,2),g.deleteContents(),"13"==m.data&&(l.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},l.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),y.removeChild(v),y=null,o.isHostMethod(g,"createContextualFragment")&&(l.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),u(document).removeChild(h),l.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var f=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==t?a:i.getCommonAncestor(t,a)},d=function(e){return 0==e.compareEndPoints("StartToEnd",e)},h=function(e,t,n,r,o){var s=e.duplicate();s.collapse(n);var u=s.parentElement();if(i.isOrIsAncestorOf(t,u)||(u=t),!u.canHaveHTML){var c=new a(u.parentNode,i.getNodeIndex(u));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var f=i.getDocument(u).createElement("span");f.parentNode&&i.removeNode(f);for(var d,h,g,p,v,m=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==u?o.nodeIndex:0,b=u.childNodes.length,S=b,C=S;;){if(C==b?u.appendChild(f):u.insertBefore(f,u.childNodes[C]),s.moveToElementText(f),d=s.compareEndPoints(m,e),0==d||y==S)break;if(d==-1){if(S==y+1)break;y=C}else S=S==y+1?y:C;C=Math.floor((y+S)/2),u.removeChild(f)}if(v=f.nextSibling,d==-1&&v&&l(v)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var w;if(/[\r\n]/.test(v.data)){var N=s.duplicate(),R=N.text.replace(/\r\n/g,"\r").length;for(w=N.moveStart("character",R);(d=N.compareEndPoints("StartToEnd",N))==-1;)w++,N.moveStart("character",1)}else w=s.text.length;p=new a(v,w)}else h=(r||!n)&&f.previousSibling,g=(r||n)&&f.nextSibling,p=g&&l(g)?new a(g,0):h&&l(h)?new a(h,h.data.length):new a(u,i.getNodeIndex(f));return i.removeNode(f),{boundaryPosition:p,nodeInfo:{nodeIndex:C,containerElement:u}}},g=function(e,t){var n,r,o,a,s=e.offset,c=i.getDocument(e.node),f=u(c).createTextRange(),d=l(e.node);return d?(n=e.node,r=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,r=e.node),o=c.createElement("span"),o.innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),f.moveToElementText(o),f.collapse(!t),r.removeChild(o),d&&f[t?"moveStart":"moveEnd"]("character",s),f};r=function(e){this.textRange=e,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=f(this.textRange);d(this.textRange)?t=e=h(this.textRange,r,!0,!0).boundaryPosition:(n=h(this.textRange,r,!0,!1),e=n.boundaryPosition,t=h(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var p=function(e){if(e.collapsed)return g(new a(e.startContainer,e.startOffset),!0);var t=g(new a(e.startContainer,e.startOffset),!0),n=g(new a(e.endContainer,e.endOffset),!1),r=u(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=p,r.prototype.toTextRange=function(){return p(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var v=function(e){return e("return this;")()}(Function);"undefined"==typeof v.Range&&(v.Range=r),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),u(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=c(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},o.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),P.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(x.isWindow(e))return e;if(e instanceof m)return e.win;var r=x.getContentDocument(e,t,n);return x.getWindow(r)}return window}function i(e){return r(e,"getWinSelection").getSelection()}function o(e){return r(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==x.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function u(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function l(t){var n;return t instanceof T?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof A?n=t.nativeRange:F.implementsDomRange&&t instanceof x.getWindow(t.startContainer).Range&&(n=t),n}function f(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!x.isAncestorOf(e[0],e[t]))return!1;return!0}function d(e){var n=e.getNodes();if(!f(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function h(e){return!!e&&"undefined"!=typeof e.text}function g(e,t){var n=new A(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function p(t){if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else{var n=t.docSelection.createRange();if(h(n))g(t,n);else{t.rangeCount=n.length;for(var r,i=L(n.item(0)),o=0;o<t.rangeCount;++o)r=e.createRange(i),r.selectNode(n.item(o)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function v(e,n){for(var r=e.docSelection.createRange(),i=d(n),o=L(r.item(0)),a=D(o).createControlRange(),s=0,u=r.length;s<u;++s)a.add(r.item(s));try{a.add(i)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),p(e)}function m(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,r,i=te.length;i--;)if(n=te[i],r=n.selection,"deleteAll"==t)y(r);else if(n.win==e)return"delete"==t?(te.splice(i,1),!0):r;return"deleteAll"==t&&(te.length=0),null}function S(e,n){for(var r,i=L(n[0].startContainer),o=D(i).createControlRange(),a=0,s=n.length;a<s;++a){r=d(n[a]);try{o.add(r)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),p(e)}function C(e,t){if(e.win.document!=L(t))throw new P("WRONG_DOCUMENT_ERR")}function w(t){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(t?"Start":"End")](n,r)):(i=e.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function N(e){var t=[],n=new B(e.anchorNode,e.anchorOffset),r=new B(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=T.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var R,_,E="boolean",O="number",x=e.dom,k=e.util,M=k.isHostMethod,T=e.DomRange,A=e.WrappedRange,P=e.DOMException,B=x.DomPosition,F=e.features,I="Control",L=x.getDocument,D=x.getBody,H=T.rangesEqual,j=M(window,"getSelection"),W=k.isHostObject(document,"selection");F.implementsWinGetSelection=j,F.implementsDocSelection=W;var V=W&&(!j||e.config.preferTextRange);if(V)R=o,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||L(n.createRange().parentElement())==t};else{if(!j)return t.fail("Neither document.selection or window.getSelection() detected."),!1;R=i,e.isSelectionValid=function(){return!0}}e.getNativeSelection=R;var z=R();if(!z)return t.fail("Native selection was null (possibly issue 138?)"),!1;var q=e.createNativeRange(document),G=D(document),U=k.areHostProperties(z,["anchorNode","focusNode","anchorOffset","focusOffset"]);F.selectionHasAnchorAndFocus=U;var K=M(z,"extend");F.selectionHasExtend=K;var $=typeof z.rangeCount==O;F.selectionHasRangeCount=$;var Q=!1,Y=!0,Z=K?function(t,n){var r=T.getRangeDocument(n),i=e.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),t.addRange(l(i)),t.extend(n.startContainer,n.startOffset)}:null;k.areHostMethods(z,["addRange","getRangeAt","removeAllRanges"])&&typeof z.rangeCount==O&&F.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,i=[],o=a(t),s=0;s<n;++s)i[s]=t.getRangeAt(s);var u=x.createTestElement(document,"",!1),c=u.appendChild(document.createTextNode("   ")),l=document.createRange();if(l.setStart(c,1),l.collapse(!0),t.removeAllRanges(),t.addRange(l),Y=1==t.rangeCount,t.removeAllRanges(),!r){var f=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(f&&parseInt(f[1])>=36)Q=!1;else{var d=l.cloneRange();l.setStart(c,0),d.setEnd(c,3),d.setStart(c,2),t.addRange(l),t.addRange(d),Q=2==t.rangeCount}}for(x.removeNode(u),t.removeAllRanges(),s=0;s<n;++s)0==s&&o?Z?Z(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),F.selectionSupportsMultipleRanges=Q,F.collapsedNonEditableSelectionsSupported=Y;var J,X=!1;G&&M(G,"createControlRange")&&(J=G.createControlRange(),k.areHostProperties(J,["item","add"])&&(X=!0)),F.implementsControlRange=X,_=U?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var ee;M(z,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:U&&(ee=function(t){var n=L(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),m.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof m)return e.refresh(),e;e=r(e,"getNativeSelection");var t=b(e),n=R(e),i=W?o(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new m(n,i,e),te.push({win:e,selection:t})),t};e.getSelection=ne,k.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var re=m.prototype;if(!V&&U&&k.areHostMethods(z,["removeAllRanges","addRange"])){re.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var ie=function(e,t){Z(e.nativeSelection,t),e.refresh()};$?re.addRange=function(t,r){if(X&&W&&this.docSelection.type==I)v(this,t);else if(n(r)&&K)ie(this,t);else{var i;Q?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=l(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var a=ee(this.nativeSelection,this.rangeCount-1);a&&!H(a,t)&&(t=new A(a))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=_(this)}else this.refresh()}}:re.addRange=function(e,t){n(t)&&K?ie(this,e):(this.nativeSelection.addRange(l(e)),this.refresh())},re.setRanges=function(e){if(X&&W&&e.length>1)S(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(M(z,"empty")&&M(q,"select")&&X&&V))return t.fail("No means of selecting a Range or TextRange was found"),!1;re.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=L(this.anchorNode);else if(this.docSelection.type==I){var t=this.docSelection.createRange();t.length&&(e=L(t.item(0)))}if(e){var n=D(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(e){}c(this)},re.addRange=function(t){this.docSelection.type==I?v(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},re.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?S(this,e):t&&this.addRange(e[0])}}re.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new P("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var oe;if(V)oe=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=D(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==I?p(t):h(n)?g(t,n):c(t)};else if(M(z,"getRangeAt")&&typeof z.rangeCount==O)oe=function(t){if(X&&W&&t.docSelection.type==I)p(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;n<r;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=_(t)}else c(t)};else{if(!U||typeof z.isCollapsed!=E||typeof q.collapsed!=E||!F.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;oe=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,u(e),e.isCollapsed=_(e)):c(e)}}re.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(oe(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!H(t[i],this._ranges[i]))return!0;return!1}};var ae=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)H(t,n[r])||e.addRange(n[r]);e.rangeCount||c(e)};X&&W?re.removeRange=function(e){if(this.docSelection.type==I){for(var t,n=this.docSelection.createRange(),r=d(e),i=L(n.item(0)),o=D(i).createControlRange(),a=!1,s=0,u=n.length;s<u;++s)t=n.item(s),t!==r||a?o.add(n.item(s)):a=!0;o.select(),p(this)}else ae(this,e)}:re.removeRange=function(e){ae(this,e)};var se;!V&&U&&F.implementsDomRange?(se=a,re.isBackward=function(){return se(this)}):se=re.isBackward=function(){return!1},re.isBackwards=re.isBackward,re.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},re.collapse=function(t,n){C(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},re.collapseToStart=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},re.collapseToEnd=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},re.selectAllChildren=function(t){C(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},re.deleteFromDocument=function(){if(X&&W&&this.docSelection.type==I){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),x.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},re.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},re.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},re.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},re.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},re.setStart=w(!0),re.setEnd=w(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},re.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},re.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},re.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},re.moveToBookmark=function(t){for(var n,r,i=[],o=0;n=t.rangeBookmarks[o++];)r=e.createRange(this.win),r.moveToBookmark(n),i.push(r);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},re.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},re.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},re.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(T.toHtml(t))}),e.join("")},F.implementsTextRange&&(re.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(h(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),re.getName=function(){return"WrappedSelection"},re.inspect=function(){return N(this)},re.detach=function(){b(this.win,"delete"),y(this)},m.detachAll=function(){b(null,"deleteAll")},m.inspect=N,m.isDirectionBackward=n,e.Selection=m,e.selectionPrototype=re,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var D=!1,H=function(e){D||(D=!0,!P.initialized&&P.config.autoInitialize&&f())};return T&&("complete"==document.readyState?H():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",H,!1),F(window,"load",H))),P},this)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.log=!1,t.logErrors=!0,t.editableClass="js-editable",t.editableDisabledClass="js-editable-disabled",t.pastingAttribute="data-editable-is-pasting",t.boldMarkup={type:"tag",name:"strong",attribs:{}},t.italicMarkup={type:"tag",name:"em",attribs:{}},t.underlineMarkup={type:"tag",name:"u",attribs:{}},t.linkMarkup={type:"tag",name:"a",attribs:{}},t.pastedHtmlRules={allowedElements:{a:{href:!0,rel:!0,target:!0},strong:{},em:{},br:{}},requiredAttributes:{a:["href"]},transformElements:{b:"strong",i:"em"},splitIntoBlocks:["h1","h2","h3","h4","h5","h6","p","blockquote"],blockLevelElements:["h1","h2","h3","h4","h5","h6","div","p","pre","hr","blockquote","article","figure","header","footer","ul","ol","li","section","table","video"],blacklistedElements:["style","script"],keepInternalRelativeLinks:!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n,r){return n=G.save(n),r.call(t),G.restore(e,n)}function a(e){s(e)}function s(e){var t=document.createDocumentFragment();for(Array.prototype.forEach.call(e.childNodes,function(e){if("BR"===e.nodeName||e.textContent){if(e.nodeType===z.elementNode&&"BR"!==e.nodeName){for(var n=e;null!==(n=n.nextSibling)&&K.isSameNode(n,e);)(0,L.default)(n.childNodes).forEach(function(t){e.appendChild(t.cloneNode(!0))}),n.parentNode.removeChild(n);s(e)}t.appendChild(e.cloneNode(!0))}});e.firstChild;)e.removeChild(e.firstChild);e.appendChild(t)}function u(e){return e.replace(J," ")}function c(e){e.innerHTML=l(e,!0)}function l(e,t){var n=(e.nodeType===z.documentFragmentNode?f(e):e.innerHTML).replace(Z,"").replace(Y,"<br>"),r=document.createElement("div");return r.innerHTML=n,p(r,t),r.innerHTML}function f(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function d(e){var t=document.createDocumentFragment();return(0,H.default)("<div>").html(e).contents().each(function(e,n){t.appendChild(n)}),t}function h(e,t){return e.ownerDocument!==t?t.adoptNode(e):e}function g(e){for(var t=e.cloneContents(),n=t.childNodes[0],r=document.createDocumentFragment();n.childNodes.length;)r.appendChild(n.childNodes[0]);return r}function p(e,t){for(;e;){var n=e.nextSibling;if(e.nodeType===z.elementNode){var r=e.getAttribute("data-editable");e.firstChild&&p(e.firstChild,t),("remove"===r||"ui-remove"===r&&!t)&&(0,H.default)(e).remove(),("unwrap"===r||"ui-unwrap"===r&&!t)&&x(e),e=n}else e=n}}function v(e,t,n){for(var r=y(t,n),i=t.commonAncestorContainer;i!==e;)n&&!n(i)||r.push(i),i=i.parentNode;return r}function m(e,t,n){return v(e,t,function(e){return e.nodeName===n.toUpperCase()})}function y(e,t){return e.getNodes([z.elementNode],t)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){return e.nodeName})}function S(e,t,n){return v(e,t).some(function(e){return e.nodeName===n.toUpperCase()})}function C(e){var t=W.default.createRange();return t.selectNodeContents(e),t}function w(e,t,n){var r=W.default.createRange();if(r.selectNodeContents(t),!e.intersectsRange(r))return!1;var i=e.toString(),o=(0,H.default)(t).text();return n&&(i=Q.trim(i),o=Q.trim(o)),""!==i&&i===o}function N(e,t,n){return t.selectNodeContents(n),t}function R(e,t,n){var r=m(e,t,n.nodeName);return 1===r.length&&w(t,r[0],"visible")?k(e,t,n.nodeName):E(e,t,n)}function _(e){return e.canSurroundContents()}function E(e,t,n){var r=o(e,t,function(){M(e,t,n.nodeName)});return _(r)||(r=o(e,r,function(){M(e,r)})),O(r,n),r}function O(e,t){var n=Q.isString(t)?(0,H.default)(t).get(0):t;return _(e)?void e.surroundContents(n):void console.log("content.wrap(): can not surround range")}function x(e){var t=(0,H.default)(e),n=t.contents();n.length?n.unwrap():t.remove()}function k(e,t,n){return o(e,t,function(){M(e,t,n)})}function M(e,t,n){v(e,t).forEach(function(e){"BR"===e.nodeName||n&&e.nodeName!==n.toUpperCase()||x(e)})}function T(e,t,n){var r=document.createTextNode(t),i=e.cloneRange();i.collapse(n),i.insertNode(r),e[n?"setStartBefore":"setEndAfter"](r),e.normalizeBoundaries()}function A(e,t,n,r){return T(t,r||n,!1),T(t,n,!0),t}function P(e,t,n){if(!B(t,n))return t;t.splitBoundaries();var r=o(e,t,function(){var e=Q.regexp(n);t.getNodes([z.textNode],function(t){return t.nodeValue.search(e)>=0}).forEach(function(t){t.nodeValue=t.nodeValue.replace(e,"")})});return r.normalizeBoundaries(),r}function B(e,t){return e.toString().indexOf(t)>=0}function F(e,t,n){v(e,t).forEach(function(e){e.nodeName===n&&x(e)})}Object.defineProperty(t,"__esModule",{value:!0});var I=n(16),L=i(I);t.tidyHtml=a,t.normalizeTags=s,t.normalizeWhitespace=u,t.cleanInternals=c,t.extractContent=l,t.getInnerHtmlOfFragment=f,t.createFragmentFromString=d,t.adoptElement=h,t.cloneRangeContents=g,t.unwrapInternalNodes=p,t.getTags=v,t.getTagsByName=m,t.getInnerTags=y,t.getTagNames=b,t.isAffectedBy=S,t.selectNodeContents=C,t.isExactSelection=w,t.expandTo=N,t.toggleTag=R,t.isWrappable=_,t.forceWrap=E,t.wrap=O,t.unwrap=x,t.removeFormatting=k,t.nuke=M,t.insertCharacter=T,t.surround=A,t.deleteCharacter=P,t.containsString=B,t.nukeTag=F;var D=n(3),H=i(D),j=n(7),W=i(j),V=n(6),z=r(V),q=n(51),G=r(q),U=n(15),K=r(U),$=n(26),Q=r($),Y=/\u200B/g,Z=/\uFEFF/g,J=/[^\S ]/g},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(17),i=n(56),o=n(43),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10),i=n(4),o=n(34),a=n(18),s=n(14),u="prototype",c=function(e,t,n){var l,f,d,h=e&c.F,g=e&c.G,p=e&c.S,v=e&c.P,m=e&c.B,y=e&c.W,b=g?i:i[t]||(i[t]={}),S=b[u],C=g?r:p?r[t]:(r[t]||{})[u];g&&(n=t);for(l in n)f=!h&&C&&void 0!==C[l],f&&s(b,l)||(d=f?C[l]:n[l],b[l]=g&&"function"!=typeof C[l]?n[l]:m&&f?o(d,r):y&&C[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((b.virtual||(b.virtual={}))[l]=d,e&c.R&&S&&!S[l]&&a(S,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="."+T.editableClass,n=(0,_.default)(e).closest(t);return n[0]}function a(e){for(var t=0;null!==(e=e.previousSibling);)t++;return t}function s(e){var t=this;return(0,N.default)(e.childNodes).every(function(e){return!(e.nodeType===k.textNode&&!t.isVoidTextNode(e))&&e.nodeType!==k.elementNode})}function u(e){return e.nodeType===k.textNode&&!e.nodeValue}function c(e){return e.nodeType===k.textNode&&0===this.lastOffsetWithContent(e)}function l(e){return e.nodeType===k.elementNode&&"BR"===e.tagName}function f(e){var t=this;if(e.nodeType===k.textNode)return O.trimRight(e.nodeValue).length;var n=0;return(0,N.default)(e.childNodes).reverse().every(function(e,r,i){return!(!t.isWhitespaceOnly(e)&&!t.isLinebreak(e))||(n=i.length-r,!1)}),n}function d(e,t,n){if(t===e)return this.isStartOffset(t,n);if(this.isStartOffset(t,n)){var r=this.getNodeIndex(t);return this.isBeginningOfHost(e,t.parentNode,r)}return!1}function h(e,t,n){if(t===e)return this.isEndOffset(t,n);if(this.isEndOffset(t,n)){var r=this.getNodeIndex(t)+1;return this.isEndOfHost(e,t.parentNode,r)}return!1}function g(e,t){return e.nodeType===k.textNode?0===t:0===e.childNodes.length||e.childNodes[t]===e.firstChild}function p(e,t){return e.nodeType===k.textNode?t===e.length:0===e.childNodes.length||t>0&&e.childNodes[t-1]===e.lastChild}function v(e,t,n){if(t===e)return this.isTextEndOffset(t,n);if(this.isTextEndOffset(t,n)){var r=this.getNodeIndex(t)+1;return this.isTextEndOfHost(e,t.parentNode,r)}return!1}function m(e,t){if(e.nodeType===k.textNode){var n=O.trimRight(e.nodeValue);return t>=n.length}return 0===e.childNodes.length||t>=this.lastOffsetWithContent(e)}function y(e,t){var n,r,i;if(e.nodeType!==t.nodeType)return!1;if(e.nodeName!==t.nodeName)return!1;for(n=0,r=e.attributes.length;n<r;n++)if(i=e.attributes[n],t.getAttribute(i.name)!==i.value)return!1;return!0}function b(e){return e.lastChild?this.latestChild(e.lastChild):e}function S(e){return e&&e.nodeType===k.documentFragmentNode&&0===e.childNodes.length}function C(e,t){var n=t.currentStyle||e.getComputedStyle(t,""),r=n.display;switch(r){case"inline":case"inline-block":return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0});var w=n(16),N=i(w);t.getHost=o,t.getNodeIndex=a,t.isVoid=s,t.isVoidTextNode=u,t.isWhitespaceOnly=c,t.isLinebreak=l,t.lastOffsetWithContent=f,t.isBeginningOfHost=d,t.isEndOfHost=h,t.isStartOffset=g,t.isEndOffset=p,t.isTextEndOfHost=v,t.isTextEndOffset=m,t.isSameNode=y,t.latestChild=b,t.isDocumentFragmentWithoutChildren=S,t.isInlineElement=C;var R=n(3),_=i(R),E=n(26),O=r(E),x=n(6),k=r(x),M=n(8),T=r(M);
},function(e,t,n){e.exports={default:n(89),__esModule:!0}},function(e,t,n){var r=n(19);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(11),i=n(23);e.exports=n(12)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(104),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(3),l=i(c),f=n(7),d=i(f),h=n(79),g=r(h),p=n(9),v=r(p),m=n(15),y=r(m),b=n(26),S=r(b),C=n(6),w=r(C),N=n(32),R=i(N),_=n(51),E=r(_),O=function(){function e(t,n){(0,a.default)(this,e),this.setHost(t),this.range=n,this.isCursor=!0}return(0,u.default)(e,[{key:"isAtEnd",value:function(){return y.isEndOfHost(this.host,this.range.endContainer,this.range.endOffset)}},{key:"isAtTextEnd",value:function(){return y.isTextEndOfHost(this.host,this.range.endContainer,this.range.endOffset)}},{key:"isAtBeginning",value:function(){return y.isBeginningOfHost(this.host,this.range.startContainer,this.range.startOffset)}},{key:"insertBefore",value:function(e){if(S.isString(e)&&(e=v.createFragmentFromString(e)),!y.isDocumentFragmentWithoutChildren(e)){e=this.adoptElement(e);var t=e;if(e.nodeType===w.documentFragmentNode){var n=e.childNodes.length-1;t=e.childNodes[n]}this.range.insertNode(e),this.range.setStartAfter(t),this.range.setEndAfter(t)}}},{key:"insertAfter",value:function(e){S.isString(e)&&(e=v.createFragmentFromString(e)),y.isDocumentFragmentWithoutChildren(e)||(e=this.adoptElement(e),this.range.insertNode(e))}},{key:"setSelection",value:function(){this.setVisibleSelection()}},{key:"setVisibleSelection",value:function(){if(this.win.document.activeElement!==this.host){var e=g.getScrollPosition(this.win),t=e.x,n=e.y;this.win.scrollTo(t,n)}d.default.getSelection(this.win).setSingleRange(this.range)}},{key:"before",value:function(){var e=this.range.cloneRange();return e.collapse(!0),e.setStartBefore(this.host),v.cloneRangeContents(e)}},{key:"textBefore",value:function(){var e=this.range.cloneRange();return e.collapse(!0),e.setStartBefore(this.host),e.toString()}},{key:"beforeHtml",value:function(){return v.getInnerHtmlOfFragment(this.before())}},{key:"after",value:function(){var e=this.range.cloneRange();return e.collapse(!1),e.setEndAfter(this.host),v.cloneRangeContents(e)}},{key:"textAfter",value:function(){var e=this.range.cloneRange();return e.collapse(!1),e.setEndAfter(this.host),e.toString()}},{key:"afterHtml",value:function(){return v.getInnerHtmlOfFragment(this.after())}},{key:"getCoordinates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",t=this.range.nativeRange.getBoundingClientRect();if("fixed"===e)return t;var n=g.getScrollPosition(this.win),r=n.x,i=n.y;return{top:t.top+i,bottom:t.bottom+i,left:t.left+r,right:t.right+r,height:t.height,width:t.width}}},{key:"moveBefore",value:function(t){if(this.updateHost(t),this.range.setStartBefore(t),this.range.setEndBefore(t),this.isSelection)return new e(this.host,this.range)}},{key:"moveAfter",value:function(t){if(this.updateHost(t),this.range.setStartAfter(t),this.range.setEndAfter(t),this.isSelection)return new e(this.host,this.range)}},{key:"moveAtBeginning",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.host;if(this.updateHost(t),this.range.selectNodeContents(t),this.range.collapse(!0),this.isSelection)return new e(this.host,this.range)}},{key:"moveAtEnd",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.host;if(this.updateHost(t),this.range.selectNodeContents(t),this.range.collapse(!1),this.isSelection)return new e(this.host,this.range)}},{key:"moveAtTextEnd",value:function(e){return this.moveAtEnd(y.latestChild(e))}},{key:"setHost",value:function(e){e.jquery&&(e=e[0]),this.host=e,this.win=void 0===e||null===e?window:e.ownerDocument.defaultView}},{key:"updateHost",value:function(e){var t=y.getHost(e);t||(0,R.default)("Can not set cursor outside of an editable block"),this.setHost(t)}},{key:"retainVisibleSelection",value:function(e){this.save(),e(),this.restore(),this.setVisibleSelection()}},{key:"save",value:function(){this.savedRangeInfo=E.save(this.range),this.savedRangeInfo.host=this.host}},{key:"restore",value:function(){this.savedRangeInfo||(0,R.default)("Could not restore selection"),this.host=this.savedRangeInfo.host,this.range=E.restore(this.host,this.savedRangeInfo),this.savedRangeInfo=void 0}},{key:"equals",value:function(e){return!!e&&(!!e.host&&(!!e.host.isEqualNode(this.host)&&(!!e.range&&!!e.range.equals(this.range))))}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.win.document.createElement(e);for(var r in t){var i=t[r];n.setAttribute(r,i)}return n}},{key:"createTextNode",value:function(e){return this.win.document.createTextNode(e)}},{key:"adoptElement",value:function(e){return v.adoptElement(e,this.win.document)}},{key:"triggerChange",value:function(){(0,l.default)(this.host).trigger("formatEditable")}}]),e}();t.default=O},function(e,t){"use strict";function n(e){return e.replace(/\s+$/,"")}function r(e){return e.replace(/^\s+/,"")}function i(e){return e.replace(/^\s+|\s+$/g,"")}function o(e){return"[object String]"===c.call(e)}function a(e,t){t||(t="g");var n=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");return new RegExp(n,t)}function s(e,t){return e.replace(t?/[&<>'"]/g:/[&<>]/g,function(e){return l[e]})}function u(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}Object.defineProperty(t,"__esModule",{value:!0}),t.trimRight=n,t.trimLeft=r,t.trim=i,t.isString=o,t.regexp=a,t.escapeHtml=s,t.browserEscapeHtml=u;var c=Object.prototype.toString,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},function(e,t){e.exports=!0},function(e,t,n){var r=n(62),i=n(36);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.closest||(e=e.parentNode),e.closest("[data-editable]:not([data-word-id])")===t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(83),s=i(a),u=n(3),c=i(u),l=n(7),f=i(l),d=n(9),h=r(d),g=n(31),p=i(g),v=n(50),m=i(v),y={highlightText:function(e,t,n){if(!this.hasHighlight(e,n)){var r=p.default.extractText(e),i='<span class="highlight-comment"></span>',o=y.createMarkerNode(i,"highlight",this.win),a=new m.default(o,"text"),s=a.findMatches(r,[t]);return s&&s.length?(n&&(s[0].id=n),p.default.highlightMatches(e,s),s[0].startIndex):void 0}},highlightRange:function(e,t,n,r,i){this.hasHighlight(e,t)&&this.removeHighlight(e,t);var a=f.default.createRange();if(a.selectCharacters(e,n,r),!o(a.commonAncestorContainer,e))return-1;var s=y.createMarkerNode('<span class="highlight-comment" data-word-id="'+t+'"></span>',"comment",this.win),u=a.extractContents();return s.appendChild(u),a.deleteContents(),a.insertNode(s),y.cleanupStaleMarkerNodes(e,"comment"),i&&i.notify("change",e),n},updateHighlight:function(e,t,n,r){document.documentElement.classList&&(0,c.default)(e).find('[data-word-id="'+t+'"]').each(function(e,t){r&&t.classList.remove(r),n&&t.classList.add(n)})},removeHighlight:function(e,t,n){(0,c.default)(e).find('[data-word-id="'+t+'"]').each(function(t,r){h.unwrap(r),n&&n.notify("change",e)})},hasHighlight:function(e,t){var n=(0,c.default)(e).find('[data-word-id="'+t+'"]');return!!n.length},extractHighlightedRanges:function(e){var t=this,n=(0,c.default)(e).find("[data-word-id]");if(n.length){var r={};n.each(function(t,n){var i=(0,c.default)(n).data("word-id");r[i]||(r[i]=(0,c.default)(e).find('[data-word-id="'+i+'"]'))});var i={};return(0,s.default)(r).forEach(function(n){var o=t.extractMarkerNodePosition(e,r[n]);o&&(i[n]=o)}),i}},extractMarkerNodePosition:function(e,t){var n=f.default.createRange();t.length>1?(n.setStartBefore(t.first()[0]),n.setEndAfter(t.last()[0])):n.selectNode(t[0]);var r=n.toCharacterRange(e);return{start:r.start,end:r.end,text:n.text()}},cleanupStaleMarkerNodes:function(e,t){e.querySelectorAll('span[data-highlight="'+t+'"]').forEach(function(e){e.textContent.length||e.parentNode.removeChild(e)})},createMarkerNode:function(e,t,n){var r=(0,c.default)(e)[0];return n&&(r=h.adoptElement(r,n.document)),r.setAttribute("data-editable","ui-unwrap"),r.setAttribute("data-highlight",t),r}};t.default=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=new c.default(e),r=void 0;r=n.getNext();)r.nodeType===f.textNode&&""!==r.data?t(r.data):r.nodeType===f.elementNode&&"BR"===r.nodeName&&t(" ")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=i(a),u=n(72),c=i(u),l=n(6),f=r(l);t.default={extractText:function(e){var t="";return o(e,function(e){t+=e}),t},highlightMatches:function(e,t){if(t&&0!==t.length)for(var n=new c.default(e),r=0,i=0,o=t[r],a=[],s=void 0,u=void 0;s=n.getNext();)if(s.nodeType===f.textNode&&""!==s.data){var l=s,d=l.data,h=i+d.length;if(o.startIndex<h&&i<o.endIndex){var g=i<=o.startIndex,p=h>=o.endIndex;g&&(u=o.id||o.startIndex);var v=void 0;v=g?o.startIndex-i:0;var m=void 0;m=p?o.endIndex-i-v:d.length-v;var y={element:l,text:d.substring(v,v+m),offset:v,length:m,isLastPortion:p,wordId:u};if(a.push(y),p){var b=this.wrapMatch(a,o.marker,o.title);n.replaceCurrent(b),h=i+y.length+y.offset,a=[],r+=1,r<t.length&&(o=t[r])}}i=h}else if(s.nodeType===f.elementNode&&"BR"===s.nodeName){i+=1;continue}},wrapMatch:function(e,t,n){var r=this;return e.map(function(e){return r.wrapPortion(e,t,n)}).pop()},wrapPortion:function(e,t,n){var r=s.default.createRange();r.setStart(e.element,e.offset),r.setEnd(e.element,e.offset+e.length);var i=t.cloneNode(!0);if(i.setAttribute("data-word-id",e.wordId),n&&i.setAttribute("title",n),r.surroundContents(i),i.nextSibling){var o=i.nextSibling;o.nodeType===f.textNode&&""===o.data&&o.parentNode.removeChild(o)}return i}}},function(e,t,n){(function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){if(c.logErrors!==!1){var t=1===arguments.length?arguments[0]:(0,s.default)(arguments);if(e.console)return"function"==typeof console.error?console.error(t):void console.log(t)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=i(a);t.default=o;var u=n(8),c=r(u)}).call(t,function(){return this}())},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(97);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(17),i=n(112),o=n(36),a=n(40)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n(55)("iframe"),r=o.length,i="<",a=">";for(t.style.display="none",n(103).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(11).f,i=n(14),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(41)("keys"),i=n(29);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(4),i=n(10),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(27)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(19);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(10),i=n(4),o=n(27),a=n(45),s=n(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(5)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.normalize,r=t.shouldSpellcheck;s(e),e.setAttribute("contenteditable",!0),e.setAttribute("spellcheck",Boolean(r)),(0,d.default)(e).removeClass(g.editableDisabledClass).addClass(g.editableClass),n&&v.tidyHtml(e)}function a(e){e.removeAttribute("contenteditable"),e.removeAttribute("spellcheck"),c(e,void 0),(0,d.default)(e).removeClass(g.editableClass).addClass(g.editableDisabledClass)}function s(e){e.hasAttribute("data-editable")||(e.setAttribute("data-editable","id-"+m),m+=1)}function u(e){if(e.hasAttribute("data-editable")){var t=e.getAttribute("data-editable");return y[t]}}function c(e,t){if(e.hasAttribute("data-editable")){var n=e.getAttribute("data-editable");y[n]=t}}function l(e){return function(t){var n=t[e];return n&&n.getAttribute("contenteditable")?n:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.previous=t.next=void 0,t.init=o,t.disable=a,t.setBlockId=s,t.getState=u,t.setState=c;var f=n(3),d=i(f),h=n(8),g=r(h),p=n(9),v=r(p),m=1,y={};t.next=l("nextElementSibling"),t.previous=l("previousElementSibling")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.pastedHtmlRules;E=t.allowedElements||{},O=t.requiredAttributes||{},x=t.transformElements||{},T=t.blacklistedElements||[],B=t.keepInternalRelativeLinks||!1,k={},t.blockLevelElements.forEach(function(e){k[e]=!0}),M={},t.splitIntoBlocks.forEach(function(e){M[e]=!0})}function a(e,t,n){var r=e.ownerDocument;e.setAttribute(C.pastingAttribute,!0),t.isSelection&&(t=t.deleteContent()),t.save();var i=s(r);i.focus(),setTimeout(function(){var r=u(i);(0,b.default)(i).remove(),e.removeAttribute(C.pastingAttribute),t.restore(),n(r,t)},0)}function s(e){var t=(0,b.default)("<div>").attr("contenteditable",!0).css({position:"fixed",right:"5px",top:"50%",width:"1px",height:"1px",overflow:"hidden",outline:"none"});return(0,b.default)(e.body).append(t),t.get(0)}function u(e){return c(e).split(P).map(function(e){return N.trim(p(e))}).filter(function(e){return!A.test(e)})}function c(e){return(0,m.default)(e.childNodes).reduce(function(e,t){if(T.indexOf(t.nodeName.toLowerCase())!==-1)return"";if(B&&"A"===t.nodeName&&t.href){var n=t.getAttribute("href").replace(window.location.origin,"");t.setAttribute("href",n)}if(t.nodeType===_.elementNode){var r=c(t);return e+l(t,r)}return t.nodeType===_.textNode?e+N.escapeHtml(t.nodeValue):e},"")}function l(e,t){var n=e.nodeName.toLowerCase();if(n=d(n),g(n,e)){var r=f(n,e);return"br"===n?"<"+(n+r)+">":A.test(t)?t:"<"+(n+r)+">"+t+"</"+n+">"}return M[n]?P+t+P:k[n]?t+" ":t}function f(e,t){return(0,m.default)(t.attributes).reduce(function(t,n){var r=n.name,i=n.value;return E[e][r]&&i?t+" "+r+'="'+i+'"':t},"")}function d(e){return x[e]||e}function h(e,t){var n=O[e];return!n||!n.some(function(e){return!t.getAttribute(e)})}function g(e,t){return E[e]&&h(e,t)}function p(e){return e.replace(/\n/g," ").replace(/ {2,}/g," ").replace(/(.)\u00A0/g,function(e,t){return t+(/[\u0020]/.test(t)?" ":" ")})}Object.defineProperty(t,"__esModule",{value:!0});var v=n(16),m=i(v);t.updateConfig=o,t.paste=a,t.injectPasteholder=s,t.parseContent=u,t.filterHtmlElements=c,t.conditionalNodeWrap=l,t.filterAttributes=f,t.transformNodeName=d,t.hasRequiredAttributes=h,t.shouldKeepNode=g,t.cleanWhitespace=p;var y=n(3),b=i(y),S=n(8),C=r(S),w=n(26),N=r(w),R=n(6),_=r(R),E=void 0,O=void 0,x=void 0,k=void 0,M=void 0,T=void 0,A=/^\s*$/,P="<!-- BLOCK -->",B=void 0;o(C)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){c.default.extend(e,o(t))}function o(e){function t(e,t){r[e]=r[e]||[],r[e].unshift(t)}function n(e,t){var n=r[e];if(n){var i=n.indexOf(t);i<0||n.splice(i,1)}}var r={};return{on:function(e,n){if(2===arguments.length)t(e,n);else if(1===arguments.length)for(var r in e)t(r,e[r]);return this},off:function(e,t){2===arguments.length?n(e,t):1===arguments.length?r[e]=[]:r={}},notify:function(t,n){var i=(0,s.default)(arguments);e?(n=t,t=e,i.splice(0,1)):i.splice(0,2);var o=r[n];o&&o.every(function(e){return e.apply(t,i)!==!1})}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=r(a);t.default=i;var u=n(3),c=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.contenteditableSpanBug=t.selectionchange=t.contenteditable=void 0;var i=n(54),o=r(i),a=(t.contenteditable="undefined"!=typeof document.documentElement.contentEditable,o.default.getParser(window.navigator.userAgent)),s=a.getBrowser(),u=a.getEngineName(),c="WebKit"===u;t.selectionchange=!("Gecko"===u||"Opera"===s),t.contenteditableSpanBug=!!c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=d.default.map(e,function(e){return a(e)}),n="("+t.join("|")+")";return new RegExp(n,"g")}function o(e){var t=d.default.map(e,function(e){return a(e)}),n="([^"+g+"]|^)"+("("+t.join("|")+")")+("(?=[^"+g+"]|$)");return new RegExp(n,"g")}function a(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=r(s),c=n(2),l=r(c),f=n(3),d=r(f),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"word";(0,u.default)(this,e),this.marker=t,this.matchMode=n}return(0,l.default)(e,[{key:"findMatches",value:function(e,t){if(e)return t&&t.length>0?this.searchMatches(e,t):void 0}},{key:"searchMatches",value:function(e,t){for(var n=this,r="word"===this.matchMode?o:i,a=r(t),s=[],u=void 0;u=a.exec(e);)s.push(u);return s.map(function(e){return n.prepareMatch(e)})}},{key:"prepareMatch",value:function(e){var t=void 0,n=void 0;return"word"===this.matchMode?(t=e.index+e[1].length,n=e[2]):(t=e.index,n=e[0]),{startIndex:t,endIndex:t+n.length,match:n,marker:this.marker}}}]),e}();t.default=h;var g="\\u0041-\\u005A\\u0061-\\u007A\\u0030-\\u0039\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0100-\\u017F\\u0180-\\u024F"},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.commonAncestorContainer;null!==n.ownerDocument&&void 0!==n.ownerDocument||(0,h.default)("Cannot save range: range is emtpy");var r=e.cloneRange();r.collapse(t);var i=n.ownerDocument.defaultView.document,o=i.createElement("span");return o.id="editable-range-boundary-"+ ++v,o.setAttribute("data-editable","remove"),o.style.lineHeight="0",o.style.display="none",o.appendChild(i.createTextNode(m)),r.insertNode(o),o}function a(e,t,n,r){var i=c(e,n);return i?(t[r?"setStartBefore":"setEndBefore"](i),void i.parentNode.removeChild(i)):console.log("Marker element has been removed. Cannot restore selection.")}function s(e){var t=void 0,n=void 0,r=void 0;return e.collapsed?(r=o(e,!1),t={markerId:r.id,collapsed:!0}):(r=o(e,!1),n=o(e,!0),t={startMarkerId:n.id,endMarkerId:r.id,collapsed:!1}),e.collapsed?e.collapseBefore(r):(e.setEndBefore(r),e.setStartAfter(n)),t}function u(e,t){if(!t.restored){var n=f.default.createRange();if(t.collapsed){var r=c(e,t.markerId);if(r){r.style.display="inline";var i=r.previousSibling;i&&i.nodeType===p.textNode?(r.parentNode.removeChild(r),n.collapseToPoint(i,i.length)):(n.collapseBefore(r),r.parentNode.removeChild(r))}else console.log("Marker element has been removed. Cannot restore selection.")}else this.setRangeBoundary(e,n,t.startMarkerId,!0),this.setRangeBoundary(e,n,t.endMarkerId,!1);return n.normalizeBoundaries(),n}}function c(e,t){return e.querySelector("#"+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.insertRangeBoundaryMarker=o,t.setRangeBoundary=a,t.save=s,t.restore=u;var l=n(7),f=i(l),d=n(32),h=i(d),g=n(6),p=r(g),v=0,m="\ufeff"},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(82),a=i(o),s=n(1),u=i(s),c=n(2),l=i(c),f=n(88),d=i(f),h=n(87),g=i(h);n(130);var p=n(3),v=i(p),m=n(25),y=i(m),b=n(9),S=r(b),C=n(15),w=r(C),N=n(8),R=r(N),_=n(30),E=i(_),O=n(31),x=i(O),k=function(e){function t(){(0,u.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments));return delete e.isCursor,e.isSelection=!0,e}return(0,g.default)(t,e),(0,l.default)(t,[{key:"text",value:function(){return this.range.toString()}},{key:"html",value:function(){return this.range.toHtml()}},{key:"isAllSelected",value:function(){return w.isBeginningOfHost(this.host,this.range.startContainer,this.range.startOffset)&&w.isTextEndOfHost(this.host,this.range.endContainer,this.range.endOffset)}},{key:"getTextRange",value:function(){return this.range.toCharacterRange(this.host)}},{key:"getRects",value:function(){return this.range.nativeRange.getClientRects()}},{key:"link",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,v.default)(this.createElement(R.linkMarkup.name,R.linkMarkup.attribs));e&&(t.href=e),n.attr(t),this.forceWrap(n[0])}},{key:"unlink",value:function(){this.removeFormatting(R.linkMarkup.name)}},{key:"toggleLink",value:function(e,t){var n=this.getTagsByName(R.linkMarkup.name);if(n.length>=1){var r=n[0];this.isExactSelection(r,"visible")?this.unlink():this.expandTo(r)}else this.link(e,t)}},{key:"highlight",value:function(e){var t=(e.highlightId,this.textBefore()),n=this.text(),r='<span class="highlight-comment"></span>',i=E.default.createMarkerNode(r,this.win);i.setAttribute("data-match",n);var o={startIndex:t.length,endIndex:t.length+n.length,match:n,marker:i};x.default.highlightMatches(this.host,[o])}},{key:"toggle",value:function(e){e=this.adoptElement(e),this.range=S.toggleTag(this.host,this.range,e),this.setSelection()}},{key:"makeBold",value:function(){var e=this.createElement(R.boldMarkup.name,R.boldMarkup.attribs);this.forceWrap(e)}},{key:"toggleBold",value:function(){var e=this.createElement(R.boldMarkup.name,R.boldMarkup.attribs);this.toggle(e)}},{key:"giveEmphasis",value:function(){var e=this.createElement(R.italicMarkup.name,R.italicMarkup.attribs);this.forceWrap(e)}},{key:"toggleEmphasis",value:function(){var e=this.createElement(R.italicMarkup.name,R.italicMarkup.attribs);this.toggle(e)}},{key:"makeUnderline",value:function(){var e=this.createElement(R.underlineMarkup.name,R.underlineMarkup.attribs);this.forceWrap(e)}},{key:"toggleUnderline",value:function(){var e=this.createElement(R.underlineMarkup.name,R.underlineMarkup.attribs);this.toggle(e)}},{key:"insertCharacter",value:function(e){var t=this.deleteContent(),n=t.createTextNode(e);return t.insertBefore(n),t.setSelection(),t}},{key:"surround",value:function(e,t){this.range=S.surround(this.host,this.range,e,t),this.setSelection()}},{key:"removeSurround",value:function(e,t){this.range=S.deleteCharacter(this.host,this.range,e),this.range=S.deleteCharacter(this.host,this.range,t),this.setSelection()}},{key:"toggleSurround",value:function(e,t){this.containsString(e)&&this.containsString(t)?this.removeSurround(e,t):this.surround(e,t)}},{key:"removeFormatting",value:function(e){this.range=S.removeFormatting(this.host,this.range,e),this.setSelection()}},{key:"deleteContent",value:function(){return this.range.deleteContents(),new y.default(this.host,this.range)}},{key:"expandTo",value:function(e){this.range=S.expandTo(this.host,this.range,e),this.setSelection()}},{key:"collapseAtBeginning",value:function(e){return this.range.collapse(!0),this.setSelection(),new y.default(this.host,this.range)}},{key:"collapseAtEnd",value:function(e){return this.range.collapse(!1),this.setSelection(),new y.default(this.host,this.range)}},{key:"forceWrap",value:function(e){e=this.adoptElement(e),this.range=S.forceWrap(this.host,this.range,e),this.setSelection()}},{key:"getTags",value:function(e){return S.getTags(this.host,this.range,e)}},{key:"getTagsByName",value:function(e){return S.getTagsByName(this.host,this.range,e)}},{key:"isExactSelection",value:function(e,t){return S.isExactSelection(this.range,e,t)}},{key:"containsString",value:function(e){return S.containsString(this.range,e)}},{key:"deleteCharacter",value:function(e){this.range=S.deleteCharacter(this.host,this.range,e),this.setSelection()}}]),t}(y.default);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(86),o=r(i),a=n(85),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":u(e)}},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",
phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.__esModule=!0,t.default=void 0;var i,o=(i=n(91))&&i.__esModule?i:{default:i},a=n(18),s=function(){function e(){}var t,n,i;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,i=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var i=r(n(92)),o=r(n(93)),a=r(n(94)),s=r(n(95)),u=r(n(17)),c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=i.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return Object.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)}),r>0){var a=Object.keys(n),s=a.find(function(e){return t.isOS(e)});if(s){var u=this.satisfies(n[s]);if(void 0!==u)return u}var c=a.find(function(e){return t.isPlatform(e)});if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}}if(o>0){var f=Object.keys(i).find(function(e){return t.isBrowser(e,!0)});if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=u.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(u.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s\/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s\/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s\/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[\/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s\/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s\/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows/i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s\/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[\/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})})},function(e,t,n){var r=n(19),i=n(10).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(12)&&!n(21)(function(){return 7!=Object.defineProperty(n(55)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(27),i=n(13),o=n(64),a=n(18),s=n(22),u=n(108),c=n(39),l=n(61),f=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",p="values",v=function(){return this};e.exports=function(e,t,n,m,y,b,S){u(n,t,m);var C,w,N,R=function(e){if(!d&&e in x)return x[e];switch(e){case g:return function(){return new n(this,e)};case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",E=y==p,O=!1,x=e.prototype,k=x[f]||x[h]||y&&x[y],M=k||R(y),T=y?E?R("entries"):M:void 0,A="Array"==t?x.entries||k:k;if(A&&(N=l(A.call(new e)),N!==Object.prototype&&N.next&&(c(N,_,!0),r||"function"==typeof N[f]||a(N,f,v))),E&&k&&k.name!==p&&(O=!0,M=function(){return k.call(this)}),r&&!S||!d&&!O&&x[f]||a(x,f,M),s[t]=M,s[_]=v,y)if(C={values:E?M:R(p),keys:b?M:R(g),entries:T},S)for(w in C)w in x||o(x,w,C[w]);else i(i.P+i.F*(d||O),t,C);return C}},function(e,t,n){var r=n(38),i=n(23),o=n(20),a=n(43),s=n(14),u=n(56),c=Object.getOwnPropertyDescriptor;t.f=n(12)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(62),i=n(36).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(14),i=n(24),o=n(40)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(14),i=n(20),o=n(99)(!1),a=n(40)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(13),i=n(4),o=n(21);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){e.exports=n(18)},function(e,t,n){var r=n(42),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(115)(!0);n(57)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.win.document;return{focus:function(e){if(c.isVoid(e)){var n=t.createElement("br");n.setAttribute("data-editable","remove"),e.appendChild(n)}},blur:function(e){f.cleanInternals(e)},selection:function(e,t){(0,h.default)(t?"Default selection behavior":"Default selection empty behavior")},cursor:function(e,t){(0,h.default)(t?"Default cursor behavior":"Default cursor empty behavior")},newline:function(e,n){if(n.isAtTextEnd()){var r=t.createElement("br");r.setAttribute("data-editable","remove"),n.insertBefore(r)}else n.insertBefore(t.createElement("br"));n.setVisibleSelection()},insert:function(e,t,n){var r=e.parentNode,i=e.cloneNode(!1);switch(i.id&&i.removeAttribute("id"),t){case"before":r.insertBefore(i,e),e.focus();break;case"after":r.insertBefore(i,e.nextSibling),i.focus()}},split:function(e,t,n,r){var i=e.cloneNode();i.appendChild(t);var o=e.parentNode;for(o.insertBefore(i,e);e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n),f.tidyHtml(i),f.tidyHtml(e),e.focus()},merge:function(t,n,r){var i=void 0,o=void 0;switch(n){case"before":i=p.previous(t),o=t;break;case"after":i=t,o=p.next(t)}i&&o&&(r=i.childNodes.length>0?e.appendTo(i,o.innerHTML):e.prependTo(i,o.innerHTML),o.parentNode.removeChild(o),r.save(),f.tidyHtml(i),r.restore(),r.setVisibleSelection())},empty:function(e){(0,h.default)("Default empty behavior")},switch:function(e,t,n){switch(t){case"before":var r=p.previous(e);r&&(n.moveAtTextEnd(r),n.setVisibleSelection());break;case"after":var i=p.next(e);i&&(n.moveAtBeginning(i),n.setVisibleSelection())}},move:function(e,t,n){(0,h.default)("Default move behavior")},paste:function(t,n,r){if(r.insertBefore(n[0]),n.length<=1)return r.setVisibleSelection();var i=t.parentNode,o=t;n.forEach(function(e){var n=t.cloneNode(!1);n.id&&n.removeAttribute("id");var r=f.createFragmentFromString(e);(0,s.default)(n).append(r),i.insertBefore(n,o.nextSibling),o=n}),e.createCursorAtEnd(o).setVisibleSelection()},clipboard:function(e,t,n){(0,h.default)("Default clipboard behavior")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),s=i(a),u=n(15),c=r(u),l=n(9),f=r(l),d=n(78),h=i(d),g=n(46),p=r(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,a.default)(e);return{focus:function(e){t.focus(e)},blur:function(e){t.blur(e)},flow:function(e,n){t.flow(e,n)},selection:function(e,n){t.selection(e,n)},cursor:function(e,n){t.cursor(e,n)},newline:function(e,n){t.newline(e,n)},split:function(e,n,r,i){t.split(e,n,r,i)},insert:function(e,n,r){t.insert(e,n,r)},merge:function(e,n,r){t.merge(e,n,r)},empty:function(e){t.empty(e)},switch:function(e,n,r){t.switch(e,n,r)},move:function(e,n,r){t.move(e,n,r)},clipboard:function(e,n,r){t.clipboard(e,n,r)},paste:function(e,n,r){t.paste(e,n,r)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(67),a=r(o)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(3),l=i(c),f=n(49),d=n(47),h=r(d),g=n(48),p=i(g),v=n(77),m=i(v),y=n(8),b=r(y),S=n(71),C=i(S),w=!1,N=function(){function e(t){(0,a.default)(this,e);var n=t.win;(0,p.default)(this,t),this.supportsInputEvent=!1,this.$document=(0,l.default)(n.document),this.config=t.config,this.editable=t,this.editableSelector=t.editableSelector,this.selectionWatcher=new m.default(this,n),this.keyboard=new C.default(this.selectionWatcher),this.setup()}return(0,u.default)(e,[{key:"setup",value:function(){this.setupKeyboardEvents(),this.setupEventListeners()}},{key:"unload",value:function(){this.off(),this.$document.off(".editable")}},{key:"suspend",value:function(){this.suspended||(this.suspended=!0,this.$document.off(".editable"))}},{key:"continue",value:function(){this.suspended&&(this.suspended=!1,this.setupEventListeners())}},{key:"setupEventListeners",value:function(){this.setupElementListeners(),this.setupKeydownListener(),f.selectionchange?this.setupSelectionChangeListeners():this.setupSelectionChangeFallbackListeners()}},{key:"setupElementListeners",value:function(){var e=this,t=this.editableSelector;this.$document.on("focus.editable",t,function(t){this.getAttribute(b.pastingAttribute)||(e.selectionWatcher.syncSelection(),e.notify("focus",this))}).on("blur.editable",t,function(t){this.getAttribute(b.pastingAttribute)||e.notify("blur",this)}).on("copy.editable",t,function(t){var n=e.selectionWatcher.getFreshSelection();n.isSelection&&e.notify("clipboard",this,"copy",n)}).on("cut.editable",t,function(t){var n=e.selectionWatcher.getFreshSelection();n.isSelection&&(e.notify("clipboard",this,"cut",n),e.triggerChangeEvent(this))}).on("paste.editable",t,function(t){function n(t,n){t.length?(e.notify("paste",r,t,n),e.notify("change",r)):n.setVisibleSelection()}var r=this,i=e.selectionWatcher.getFreshSelection();h.paste(this,i,n)}).on("input.editable",t,function(t){w?e.notify("change",this):w=!0}).on("formatEditable.editable",t,function(t){e.notify("change",this)})}},{key:"triggerChangeEvent",value:function(e){w||this.notify("change",e)}},{key:"dispatchSwitchEvent",value:function(e,t,n){var r=this;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var i=this.selectionWatcher.getSelection();i&&!i.isSelection&&setTimeout(function(){var o=r.selectionWatcher.forceCursor();o.equals(i)&&(e.preventDefault(),e.stopPropagation(),r.notify("switch",t,n,o))},0)}}},{key:"setupKeydownListener",value:function(){var e=this;this.$document.on("keydown.editable",this.editableSelector,function(t){var n=!w;e.keyboard.dispatchKeyEvent(t,this,n)})}},{key:"setupKeyboardEvents",value:function(){var e=this;this.keyboard.on("left up",function(t){e.dispatchSwitchEvent(t,this,"before")}).on("right down",function(t){e.dispatchSwitchEvent(t,this,"after")}).on("tab shiftTab esc",function(){}).on("backspace",function(t){var n=e.selectionWatcher.getFreshRange();if(!n.isCursor)return e.triggerChangeEvent(this);var r=n.getCursor();return r.isAtBeginning()?(t.preventDefault(),t.stopPropagation(),void e.notify("merge",this,"before",r)):e.triggerChangeEvent(this)}).on("delete",function(t){var n=e.selectionWatcher.getFreshRange();if(!n.isCursor)return e.triggerChangeEvent(this);var r=n.getCursor();return r.isAtTextEnd()?(t.preventDefault(),t.stopPropagation(),void e.notify("merge",this,"after",r)):e.triggerChangeEvent(this)}).on("enter",function(t){t.preventDefault(),t.stopPropagation();var n=e.selectionWatcher.getFreshRange(),r=n.forceCursor();r.isAtTextEnd()?e.notify("insert",this,"after",r):r.isAtBeginning()?e.notify("insert",this,"before",r):e.notify("split",this,r.before(),r.after(),r)}).on("shiftEnter",function(t){t.preventDefault(),t.stopPropagation();var n=e.selectionWatcher.forceCursor();e.notify("newline",this,n)}).on("character",function(t){e.notify("change",this)})}},{key:"setupSelectionChangeListeners",value:function(){var e=this,t=!1,n=!1,r=this.$document,i=this.selectionWatcher;r.on("selectionchange.editable",function(e){n?t=!0:i.selectionChanged()}),r.on("mousedown.editable",this.editableSelector,function(o){e.config.mouseMoveSelectionChanges===!1&&(n=!0,setTimeout(l.default.proxy(i,"selectionChanged"),0)),r.on("mouseup.editableSelection",function(e){r.off(".editableSelection"),n=!1,t&&(t=!1,i.selectionChanged())})})}},{key:"setupSelectionChangeFallbackListeners",value:function(){var e=this.$document,t=this.selectionWatcher;e.on("mouseup.editable",function(e){setTimeout(l.default.proxy(t,"selectionChanged"),0)}),e.on("keyup.editable",this.editableSelector,function(e){t.selectionChanged()})}}]),e}();t.default=N},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(3),l=i(c),f=n(6),d=r(f),h=n(9),g=r(h),p=n(31),v=i(p),m=n(74),y=i(m),b=n(75),S=i(b),C=n(50),w=i(C),N=n(73),R=i(N),_=n(30),E=i(_),O=function(){function e(t,n,r){(0,a.default)(this,e),this.editable=t,this.win=t.win,this.focusedEditableHost=void 0,this.currentlyCheckedEditableHost=void 0,this.timeout={};var i={checkOnInit:!1,checkOnFocus:!1,checkOnChange:!0,throttle:1e3,removeOnCorrection:!0,spellcheck:{marker:'<span class="highlight-spellcheck"></span>',throttle:1e3,spellcheckService:function(){}},whitespace:{marker:'<span class="highlight-whitespace"></span>'}};this.config=l.default.extend(!0,i,n);var o=this.config.spellcheck.spellcheckService,s=this.config.spellcheck.marker,u=this.config.whitespace.marker,c=E.default.createMarkerNode(s,"spellcheck",this.win),f=E.default.createMarkerNode(u,"spellcheck",this.win);this.spellcheckService=new y.default(o),this.spellcheck=new w.default(c),this.whitespace=new S.default(f),this.setupListeners()}return(0,u.default)(e,[{key:"setupListeners",value:function(){this.config.checkOnFocus&&(this.editable.on("focus",l.default.proxy(this,"onFocus")),this.editable.on("blur",l.default.proxy(this,"onBlur"))),(this.config.checkOnChange||this.config.removeOnCorrection)&&this.editable.on("change",l.default.proxy(this,"onChange")),this.config.checkOnInit&&this.editable.on("init",l.default.proxy(this,"onInit"))}},{key:"onInit",value:function(e){this.highlight(e)}},{key:"onFocus",value:function(e){this.focusedEditableHost!==e&&(this.focusedEditableHost=e,
this.editableHasChanged(e))}},{key:"onBlur",value:function(e){this.focusedEditableHost===e&&(this.focusedEditableHost=void 0)}},{key:"onChange",value:function(e){this.config.checkOnChange&&this.editableHasChanged(e,this.config.throttle),this.config.removeOnCorrection&&this.removeHighlightsAtCursor(e)}},{key:"editableHasChanged",value:function(e,t){var n=this;this.timeout.id&&this.timeout.editableHost===e&&clearTimeout(this.timeout.id);var r=setTimeout(function(){n.highlight(e),n.timeout={}},t||0);this.timeout={id:r,editableHost:e}}},{key:"highlight",value:function(e){var t=this,n=v.default.extractText(e);this.spellcheckService.check(n,function(r,i){if(!r){n=v.default.extractText(e);var o=new R.default,a=t.spellcheck.findMatches(n,i);o.addMatches("spellcheck",a),a=t.whitespace.findMatches(n),o.addMatches("whitespace",a),t.safeHighlightMatches(e,o.matches)}})}},{key:"safeHighlightMatches",value:function(e,t){var n=this,r=this.editable.getSelection(e);r?r.retainVisibleSelection(function(){n.highlightMatches(e,t)}):this.highlightMatches(e,t)}},{key:"highlightMatches",value:function(e,t){this.removeHighlights(e),t&&t.length>0&&v.default.highlightMatches(e,t)}},{key:"removeHighlights",value:function(e){(0,l.default)(e).find('[data-highlight="spellcheck"]').each(function(e,t){g.unwrap(t)})}},{key:"removeHighlightsAtCursor",value:function(e){var t=this.editable.getSelection(e);if(t&&t.isCursor){var n=t.range.startContainer;n.nodeType===d.textNode&&(n=n.parentNode);var r=void 0;do{if(n===e)return;var i=n.getAttribute("data-highlight");if("spellcheck"===i){r=n.getAttribute("data-word-id");break}}while(n=n.parentNode);r&&t.retainVisibleSelection(function(){(0,l.default)(e).find("[data-word-id="+r+"]").each(function(e,t){g.unwrap(t)})})}}}]),e}();t.default=O},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(7),l=i(c),f=n(49),d=n(6),h=r(d),g=n(48),p=i(g),v=function(){function e(t){(0,a.default)(this,e),(0,p.default)(this),this.selectionWatcher=t}return(0,u.default)(e,[{key:"dispatchKeyEvent",value:function(e,t,n){switch(e.keyCode){case this.key.left:return this.notify(t,"left",e);case this.key.right:return this.notify(t,"right",e);case this.key.up:return this.notify(t,"up",e);case this.key.down:return this.notify(t,"down",e);case this.key.tab:return e.shiftKey?this.notify(t,"shiftTab",e):this.notify(t,"tab",e);case this.key.esc:return this.notify(t,"esc",e);case this.key.backspace:return this.preventContenteditableBug(t,e),this.notify(t,"backspace",e);case this.key.delete:return this.preventContenteditableBug(t,e),this.notify(t,"delete",e);case this.key.enter:return e.shiftKey?this.notify(t,"shiftEnter",e):this.notify(t,"enter",e);case this.key.ctrl:case this.key.shift:case this.key.alt:return;case 224:case 17:case 91:case 93:return;default:if(this.preventContenteditableBug(t,e),!n)return;if(!e.ctrlKey&&!e.metaKey)return this.notify(t,"character",e)}}},{key:"preventContenteditableBug",value:function(t,n){if(f.contenteditableSpanBug&&!n.ctrlKey&&!n.metaKey){var r=this.selectionWatcher.getFreshRange();if(r.isSelection){var i=e.getNodeToRemove(r.range,t);i&&i.remove()}}}}],[{key:"getNodeToRemove",value:function(t,n){if(0===t.startOffset){var r=t.startContainer;if(r.nodeType===h.textNode&&(r=r.parentNode),r!==n){var i=l.default.createRange();if(i.setStartBefore(r.firstChild),i.setEndAfter(r.lastChild),!i.containsRange(t)){if(t.startContainer.nodeType===h.textNode){var o=[h.textNode,h.elementNode],a=r.firstChild;do if(o.indexOf(a.nodeType)!==-1)break;while(a=a.nextSibling);if(a!==t.startContainer)return}var s=t.cloneRange();return s.setStartBefore(r),e.getNodeToRemove(s,n)||r}}}}}]),e}();t.default=v,v.key=v.prototype.key={left:37,up:38,right:39,down:40,tab:9,esc:27,backspace:8,delete:46,enter:13,shift:16,ctrl:17,alt:18}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(6),l=r(c),f=function(){function e(t){(0,a.default)(this,e),this.current=this.next=this.root=t}return(0,u.default)(e,[{key:"getNextTextNode",value:function(){for(var e=void 0;e=this.getNext();)if(e.nodeType===l.textNode&&""!==e.data)return e}},{key:"getNext",value:function(){var e=this.current=this.next,t=this.next=void 0;if(this.current)if(t=e.firstChild,t&&"remove"!==e.getAttribute("data-editable"))this.next=t;else for(;e!==this.root&&!(this.next=e.nextSibling);)e=e.parentNode;return this.current}},{key:"replaceCurrent",value:function(e){this.current=e,this.next=void 0;for(var t=this.current;t!==this.root&&!(this.next=t.nextSibling);)t=t.parentNode}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=void 0,r=e.length,i=t.length,a=-1,s=[],u={a1:e,i1:0,a2:t,i2:0};u.i1<r||u.i2<i;)n=o(u),n.startIndex>=a&&s.push(n),a=n.endIndex;return s}function o(e){var t=e.i1,n=e.i2,r=e.a1[t],i=e.a2[n];return r&&i&&r.startIndex<i.startIndex?(e.i1=t+1,r):r&&i?(e.i2=n+1,i):r?(e.i1=t+1,r):i?(e.i2=n+1,i):void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),u=n(2),c=r(u),l=function(){function e(){(0,s.default)(this,e),this.matches=[]}return(0,c.default)(e,[{key:"addMatches",value:function(e,t){t&&t.length&&(this.matches=i(this.matches,t))}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(9),l=r(c),f=function(){function e(t){(0,a.default)(this,e),this.spellcheckService=t}return(0,u.default)(e,[{key:"check",value:function(e,t){if(!e)return t(null);var n=l.normalizeWhitespace(e);this.spellcheckService(n,function(e){e&&e.length>0?t(null,e):t(null)})}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.charCodeAt(0);return""+t.toString(16).toUpperCase()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(2),u=r(s),c={A0:"no-break space",2000:"en quad",2001:"em quad",2002:"en space",2003:"em space",2004:"three-per-em space",2005:"four-per-em space",2006:"six-per-em space",2007:"figure space",2008:"punctuation space",2009:"thin space","200A":"hair space","202F":"narrow no-break space","205F":"medium mathematical space",3000:"ideographic space"},l="\\u2000-\\u200A\\u202F\\u205F\\u3000",f=function(){function e(t){(0,a.default)(this,e),this.marker=t}return(0,u.default)(e,[{key:"findMatches",value:function(e){var t=this;if(e){var n="["+l+"]";n=new RegExp(n,"g");for(var r=[],i=void 0;i=n.exec(e);)r.push(i);return r.map(function(e){return t.prepareMatch(e)})}}},{key:"prepareMatch",value:function(e){var t=e.index,n=i(e[0]),r=c[n];return{startIndex:t,endIndex:t+e.length,match:e[0],title:r+" (\\u"+n+")",marker:this.marker}}}]),e}();t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(2),s=r(a),u=n(25),c=r(u),l=n(52),f=r(l),d=function(){function e(t,n){(0,o.default)(this,e),this.host=t&&t.jquery?t[0]:t,this.range=n,this.isAnythingSelected=void 0!==n,this.isCursor=this.isAnythingSelected&&n.collapsed,this.isSelection=this.isAnythingSelected&&!this.isCursor}return(0,s.default)(e,[{key:"getCursor",value:function(){if(this.isCursor)return new c.default(this.host,this.range)}},{key:"getSelection",value:function(){if(this.isSelection)return new f.default(this.host,this.range)}},{key:"forceCursor",value:function(){return this.isSelection?this.getSelection().deleteContent():this.getCursor()}},{key:"isDifferentFrom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e,n=this.range,r=t.range;return n&&r?!n.equals(r):!(!n&&!r)}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(2),u=i(s),c=n(7),l=i(c),f=n(15),d=r(f),h=n(76),g=i(h),p=n(25),v=i(p),m=n(52),y=i(m),b=function(){function e(t,n){(0,a.default)(this,e),this.dispatcher=t,this.win=n||window,this.rangySelection=void 0,this.currentSelection=void 0,this.currentRange=void 0}return(0,u.default)(e,[{key:"syncSelection",value:function(){this.rangySelection=l.default.getSelection(this.win)}},{key:"getRangeContainer",value:function(){if(this.syncSelection(),this.rangySelection.rangeCount){var e=this.rangySelection.getRangeAt(0),t=d.getHost(e.commonAncestorContainer);if(t)return new g.default(t,e)}return new g.default}},{key:"getFreshRange",value:function(){return this.getRangeContainer()}},{key:"getFreshSelection",value:function(){var e=this.getRangeContainer();return e.isCursor?e.getCursor(this.win):e.getSelection(this.win)}},{key:"getSelection",value:function(){return this.currentSelection}},{key:"forceCursor",value:function(){var e=this.getRangeContainer();return e.forceCursor()}},{key:"selectionChanged",value:function(){var e=this.getRangeContainer();if(e.isDifferentFrom(this.currentRange)){var t=this.currentSelection;this.currentRange=e,t&&(t.isCursor&&!this.currentRange.isCursor?this.dispatcher.notify("cursor",t.host):t.isSelection&&!this.currentRange.isSelection&&this.dispatcher.notify("selection",t.host)),this.currentRange.isCursor?(this.currentSelection=new v.default(this.currentRange.host,this.currentRange.range),this.dispatcher.notify("cursor",this.currentSelection.host,this.currentSelection)):this.currentRange.isSelection?(this.currentSelection=new y.default(this.currentRange.host,this.currentRange.range),this.dispatcher.notify("selection",this.currentSelection.host,this.currentSelection)):this.currentSelection=void 0}}}]),e}();t.default=b},function(e,t,n){(function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){if(c.log!==!1&&e.console){var t=1===arguments.length?arguments[0]:(0,s.default)(arguments);return 1!==arguments.length&&"trace"===t[t.length-1]&&(t.pop(),console.trace&&console.trace()),console.log(t)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=i(a);t.default=o;var u=n(8),c=r(u)}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0!==e.pageXOffset?e.pageXOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollLeft,n=void 0!==e.pageYOffset?e.pageYOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollTop;return{x:t,y:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollPosition=n},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){e.exports={default:n(91),__esModule:!0}},function(e,t,n){e.exports={default:n(92),__esModule:!0}},function(e,t,n){e.exports={default:n(93),__esModule:!0}},function(e,t,n){e.exports={default:n(94),__esModule:!0}},function(e,t,n){e.exports={default:n(95),__esModule:!0}},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(84),o=r(i),a=n(80),s=r(a),u=n(53),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(53),o=r(i);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){n(66),n(118),e.exports=n(4).Array.from},function(e,t,n){n(120);var r=n(4).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(121);var r=n(4).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){n(122),e.exports=n(4).Object.getPrototypeOf},function(e,t,n){n(123),e.exports=n(4).Object.keys},function(e,t,n){n(124),e.exports=n(4).Object.setPrototypeOf},function(e,t,n){n(126),n(125),n(127),n(128),e.exports=n(4).Symbol},function(e,t,n){n(66),n(129),e.exports=n(45).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(20),i=n(65),o=n(116);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(33),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var r=n(11),i=n(23);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(28),i=n(60),o=n(38);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(10).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(33);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(22),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(33);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(17);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(37),i=n(23),o=n(39),a={};n(18)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(29)("meta"),i=n(19),o=n(14),a=n(11).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(21)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&g.NEED&&u(e)&&!o(e,r)&&l(e),e},g=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(e,t,n){var r=n(11),i=n(17),o=n(28);e.exports=n(12)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(20),i=n(59).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(19),i=n(17),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(34)(Function.call,n(58).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(42),i=n(35);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t,n){var r=n(42),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(100),i=n(5)("iterator"),o=n(22);e.exports=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(34),i=n(13),o=n(24),a=n(107),s=n(105),u=n(65),c=n(101),l=n(117);i(i.S+i.F*!n(109)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,g=arguments.length,p=g>1?arguments[1]:void 0,v=void 0!==p,m=0,y=l(d);if(v&&(p=r(p,g>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(t=u(d.length),n=new h(t);t>m;m++)c(n,m,v?p(d[m],m):d[m]);else for(f=y.call(d),n=new h;!(i=f.next()).done;m++)c(n,m,v?a(f,p,[i.value,m],!0):i.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(98),i=n(110),o=n(22),a=n(20);e.exports=n(57)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(13);r(r.S,"Object",{create:n(37)})},function(e,t,n){var r=n(13);r(r.S+r.F*!n(12),"Object",{defineProperty:n(11).f})},function(e,t,n){var r=n(24),i=n(61);n(63)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(24),i=n(28);n(63)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(13);r(r.S,"Object",{setPrototypeOf:n(114).set})},function(e,t){},function(e,t,n){"use strict";var r=n(10),i=n(14),o=n(12),a=n(13),s=n(64),u=n(111).KEY,c=n(21),l=n(41),f=n(39),d=n(29),h=n(5),g=n(45),p=n(44),v=n(102),m=n(106),y=n(17),b=n(19),S=n(24),C=n(20),w=n(43),N=n(23),R=n(37),_=n(113),E=n(58),O=n(60),x=n(11),k=n(28),M=E.f,T=x.f,A=_.f,P=r.Symbol,B=r.JSON,F=B&&B.stringify,I="prototype",L=h("_hidden"),D=h("toPrimitive"),H={}.propertyIsEnumerable,j=l("symbol-registry"),W=l("symbols"),V=l("op-symbols"),z=Object[I],q="function"==typeof P&&!!O.f,G=r.QObject,U=!G||!G[I]||!G[I].findChild,K=o&&c(function(){return 7!=R(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=M(z,t);r&&delete z[t],T(e,t,n),r&&e!==z&&T(z,t,r)}:T,$=function(e){var t=W[e]=R(P[I]);return t._k=e,t},Q=q&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},Y=function(e,t,n){return e===z&&Y(V,t,n),y(e),t=w(t,!0),y(n),i(W,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=R(n,{enumerable:N(0,!1)})):(i(e,L)||T(e,L,N(1,{})),e[L][t]=!0),K(e,t,n)):T(e,t,n)},Z=function(e,t){y(e);for(var n,r=v(t=C(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},J=function(e,t){return void 0===t?R(e):Z(R(e),t)},X=function(e){var t=H.call(this,e=w(e,!0));return!(this===z&&i(W,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(W,e)||i(this,L)&&this[L][e])||t)},ee=function(e,t){if(e=C(e),t=w(t,!0),e!==z||!i(W,t)||i(V,t)){var n=M(e,t);return!n||!i(W,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},te=function(e){for(var t,n=A(C(e)),r=[],o=0;n.length>o;)i(W,t=n[o++])||t==L||t==u||r.push(t);return r},ne=function(e){for(var t,n=e===z,r=A(n?V:C(e)),o=[],a=0;r.length>a;)!i(W,t=r[a++])||n&&!i(z,t)||o.push(W[t]);return o};q||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(V,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),K(this,e,N(1,n))};return o&&U&&K(z,e,{configurable:!0,set:t}),$(e)},s(P[I],"toString",function(){return this._k}),E.f=ee,x.f=Y,n(59).f=_.f=te,n(38).f=X,O.f=ne,o&&!n(27)&&s(z,"propertyIsEnumerable",X,!0),g.f=function(e){return $(h(e))}),a(a.G+a.W+a.F*!q,{Symbol:P});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)h(re[ie++]);for(var oe=k(h.store),ae=0;oe.length>ae;)p(oe[ae++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=P(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:J,defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var se=c(function(){O.f(1)});a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function(e){return O.f(S(e))}}),B&&a(a.S+a.F*(!q||c(function(){var e=P();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,F.apply(B,r)}}),P[I][D]||n(18)(P[I],D,P[I].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(44)("asyncIterator")},function(e,t,n){n(44)("observable")},function(e,t,n){n(119);for(var r=n(10),i=n(18),o=n(22),a=n(5)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){var r,i,o;!function(a,s){i=[n(7)],r=a,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(function(e){return e.createModule("TextRange",["WrappedSelection"],function(e,t){function n(e,t){function n(e,t,n){s.push({start:e,end:t,isWord:n})}for(var r,i,o,a=e.join(""),s=[],u=0;r=t.wordRegex.exec(a);){if(i=r.index,o=i+r[0].length,i>u&&n(u,i,!1),t.includeTrailingSpace)for(;J.test(e[o]);)++o;n(i,o,!0),u=o}return u<e.length&&n(u,e.length,!1),s}function r(e,t){for(var n=e.slice(t.start,t.end),r={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},i=0,o=n.length;i<o;++i)n[i].token=r;return r}function i(e,t,n){for(var i,o=n(e,t),a=[],s=0;i=o[s++];)a.push(r(e,i));return a}function o(e){var t=e||"",n="string"==typeof t?t.split(""):t;return n.sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}function a(e){var t,n;return e?(t=e.language||X,n={},U(n,ue[t]||ue[X]),U(n,e),n):ue[X]}function s(e,t){var n=K(e,t);return t.hasOwnProperty("wordOptions")&&(n.wordOptions=a(n.wordOptions)),t.hasOwnProperty("characterOptions")&&(n.characterOptions=K(n.characterOptions,ae)),n}function u(e,t){var n=he(e,"display",t),r=e.tagName.toLowerCase();return"block"==n&&oe&&ge.hasOwnProperty(r)?ge[r]:n}function c(e){for(var t=g(e),n=0,r=t.length;n<r;++n)if(1==t[n].nodeType&&"none"==u(t[n]))return!0;return!1}function l(e){var t;return 3==e.nodeType&&(t=e.parentNode)&&"hidden"==he(t,"visibility")}function f(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(u(e))||9==e.nodeType||11==e.nodeType)}function d(e){return q.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)}function h(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}function g(e){return h(e).concat([e])}function p(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}function v(e,t){return!t&&e.hasChildNodes()?e.firstChild:p(e)}function m(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function y(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var r=he(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(t)&&"pre-line"==r}function b(e){if(""===e.data)return!0;if(!y(e))return!1;var t=e.parentNode;return!t||!!c(e)}function S(e){var t=e.nodeType;return 7==t||8==t||c(e)||/^(script|style)$/i.test(e.nodeName)||l(e)||b(e)}function C(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==u(e,t)}function w(){this.store={}}function N(e,t,n){return function(r){var i=this.cache;if(i.hasOwnProperty(e))return pe++,i[e];ve++;var o=t.call(this,n?this[n]:this,r);return i[e]=o,o}}function R(e,t){this.node=e,this.session=t,this.cache=new w,this.positions=new w}function _(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new w}function E(){return"[Position("+q.inspectNode(this.node)+":"+this.offset+")]"}function O(){return k(),ke=new Me}function x(){return ke||O()}function k(){ke&&ke.detach(),ke=null}function M(e,n,r,i){function o(){var e=null;return n?(e=s,u||(s=s.previousVisible(),u=!s||r&&s.equals(r))):u||(e=s=s.nextVisible(),u=!s||r&&s.equals(r)),u&&(s=null),e}r&&(n?S(r.node)&&(r=e.previousVisible()):S(r.node)&&(r=r.nextVisible()));var a,s=e,u=!1,c=!1;return{next:function(){if(c)return c=!1,a;for(var e,t;e=o();)if(t=e.getCharacter(i))return a=e,e;return null},rewind:function(){if(!a)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");c=!0},dispose:function(){e=r=null}}}function T(e,t,n){function r(e){for(var t,n,r=[],i=e?o:a,s=!1,u=!1;t=i.next();){if(n=t.character,Z.test(n))u&&(u=!1,s=!0);else{if(s){i.rewind();break}u=!0}r.push(t)}return r}var o=M(e,!1,null,t),a=M(e,!0,null,t),s=n.tokenizer,u=r(!0),c=r(!1).reverse(),l=i(c.concat(u),n,s),f=u.length?l.slice(Te(l,u[0].token)):[],d=c.length?l.slice(0,Te(l,c.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==f.length&&!(e=f[0]).isWord&&(t=r(!0)).length>0;)f=i(e.chars.concat(t),n,s);return f.shift()},previousStartToken:function(){for(var e,t;1==d.length&&!(e=d[0]).isWord&&(t=r(!1)).length>0;)d=i(t.reverse().concat(e.chars),n,s);return d.pop()},dispose:function(){o.dispose(),a.dispose(),f=d=null}}}function A(e,t,n,r,i){var o,a,s,u,c=0,l=e,f=Math.abs(n);if(0!==n){var d=n<0;switch(t){case V:for(a=M(e,d,null,r);(o=a.next())&&c<f;)++c,l=o;s=o,a.dispose();break;case z:for(var h=T(e,r,i),g=d?h.previousStartToken:h.nextEndToken;(u=g())&&c<f;)u.isWord&&(++c,l=d?u.chars[0]:u.chars[u.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}d?(l=l.previousVisible(),c=-c):l&&l.isLeadingSpace&&!l.isTrailingSpace&&(t==z&&(a=M(e,!1,null,r),s=a.next(),a.dispose()),s&&(l=s.previousVisible()))}return{position:l,unitsMoved:c}}function P(e,t,n,r){var i=e.getRangeBoundaryPosition(t,!0),o=e.getRangeBoundaryPosition(t,!1),a=r?o:i,s=r?i:o;return M(a,!!r,s,n)}function B(e,t,n){for(var r,i=[],o=P(e,t,n);r=o.next();)i.push(r);return o.dispose(),i}function F(t,n,r){var i=e.createRange(t.node);return i.setStartAndEnd(t.node,t.offset,n.node,n.offset),!i.expand("word",{wordOptions:r})}function I(e,t,n,r,i){function o(e,t){var n=p[e].previousVisible(),r=p[t-1],o=!i.wholeWordsOnly||F(n,r,i.wordOptions);return{startPos:n,endPos:r,valid:o}}for(var a,s,u,c,l,f,d=ee(i.direction),h=M(e,d,e.session.getRangeBoundaryPosition(r,d),i.characterOptions),g="",p=[],v=null;a=h.next();)if(s=a.character,n||i.caseSensitive||(s=s.toLowerCase()),d?(p.unshift(a),g=s+g):(p.push(a),g+=s),n){if(l=t.exec(g))if(u=l.index,c=u+l[0].length,f){if(!d&&c<g.length||d&&u>0){v=o(u,c);break}}else f=!0}else if((u=g.indexOf(t))!=-1){v=o(u,u+t.length);break}return f&&(v=o(u,c)),h.dispose(),v}function L(e){return function(){var t=!!ke,n=x(),r=[n].concat(G.toArray(arguments)),i=e.apply(this,r);return t||k(),i}}function D(e,t){return L(function(n,r,i,o){typeof i==W&&(i=r,r=V),o=s(o,le);var a=e;t&&(a=i>=0,this.collapse(!a));var u=A(n.getRangeBoundaryPosition(this,a),r,i,o.characterOptions,o.wordOptions),c=u.position;return this[a?"setStart":"setEnd"](c.node,c.offset),u.unitsMoved})}function H(e){return L(function(t,n){n=K(n,ae);for(var r,i=P(t,this,n,!e),o=0;(r=i.next())&&Z.test(r.character);)++o;i.dispose();var a=o>0;return a&&this[e?"moveStart":"moveEnd"]("character",e?o:-o,{characterOptions:n}),a})}function j(e){return L(function(t,n){var r=!1;return this.changeEachRange(function(t){r=t[e](n)||r}),r})}var W="undefined",V="character",z="word",q=e.dom,G=e.util,U=G.extend,K=G.createOptions,$=q.getBody,Q=/^[ \t\f\r\n]+$/,Y=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,J=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,X="en",ee=e.Selection.isDirectionBackward,te=!1,ne=!1,re=!1,ie=!0;!function(){var t=q.createTestElement(document,"<p>1 </p><p></p>",!0),n=t.firstChild,r=e.getSelection();r.collapse(n.lastChild,2),r.setStart(n.firstChild,0),te=1==(""+r).length,t.innerHTML="1 <br />",r.collapse(t,2),r.setStart(t.firstChild,0),ne=1==(""+r).length,t.innerHTML="1 <p>1</p>",r.collapse(t,2),r.setStart(t.firstChild,0),re=1==(""+r).length,q.removeNode(t),r.removeAllRanges()}();var oe,ae={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},se={includeBlockContentTrailingSpace:!ie,includeSpaceBeforeBr:!ne,includeSpaceBeforeBlock:!re,includePreLineTrailingSpace:!0},ue={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:n}},ce={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},le={wordOptions:null,characterOptions:null},fe={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},de={wordOptions:null,characterOptions:null,direction:"forward"},he=q.getComputedStyleProperty;!function(){var e=document.createElement("table"),t=$(document);t.appendChild(e),oe="block"==he(e,"display"),t.removeChild(e)}();var ge={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};w.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};var pe=0,ve=0,me={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new _(this,e))},toString:function(){return"[NodeWrapper("+q.inspectNode(this.node)+")]"}};R.prototype=me;var ye="EMPTY",be="NON_SPACE",Se="UNCOLLAPSIBLE_SPACE",Ce="COLLAPSIBLE_SPACE",we="TRAILING_SPACE_BEFORE_BLOCK",Ne="TRAILING_SPACE_IN_BLOCK",Re="TRAILING_SPACE_BEFORE_BR",_e="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",Ee="TRAILING_LINE_BREAK_AFTER_BR",Oe="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";U(me,{isCharacterDataNode:N("isCharacterDataNode",q.isCharacterDataNode,"node"),getNodeIndex:N("nodeIndex",q.getNodeIndex,"node"),getLength:N("nodeLength",q.getNodeLength,"node"),containsPositions:N("containsPositions",d,"node"),isWhitespace:N("isWhitespace",y,"node"),isCollapsedWhitespace:N("isCollapsedWhitespace",b,"node"),getComputedDisplay:N("computedDisplay",u,"node"),
isCollapsed:N("collapsed",S,"node"),isIgnored:N("ignored",C,"node"),next:N("nextPos",v,"node"),previous:N("previous",m,"node"),getTextNodeInfo:N("textNodeInfo",function(e){var t=null,n=!1,r=he(e.parentNode,"whiteSpace"),i="pre-line"==r;return i?(t=Y,n=!0):"normal"!=r&&"nowrap"!=r||(t=Q,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:i}},"node"),hasInnerText:N("hasInnerText",function(e,t){for(var n=this.session,r=n.getPosition(e.parentNode,this.getNodeIndex()+1),i=n.getPosition(e,0),o=t?r:i,a=t?i:r;o!==a;){if(o.prepopulateChar(),o.isDefinitelyNonEmpty())return!0;o=t?o.previousVisible():o.nextVisible()}return!1},"node"),isRenderedBlock:N("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,r=t.length;n<r;++n)if(!S(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:N("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!C(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:N("leadingSpace",function(e){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var xe={character:"",characterType:ye,isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,r="",i=ye,o=!1;if(n>0)if(3==t.nodeType){var a=t.data,s=a.charAt(n-1),u=e.nodeWrapper.getTextNodeInfo(),c=u.spaceRegex;u.collapseSpaces?c.test(s)?n>1&&c.test(a.charAt(n-2))||(u.preLine&&"\n"===a.charAt(n)?(r=" ",i=_e):(r=" ",i=Ce)):(r=s,i=be,o=!0):(r=s,i=Se,o=!0)}else{var l=t.childNodes[n-1];if(l&&1==l.nodeType&&!S(l)&&("br"==l.tagName.toLowerCase()?(r="\n",e.isBr=!0,i=Ce,o=!1):e.checkForTrailingSpace=!0),!r){var f=t.childNodes[n];f&&1==f.nodeType&&!S(f)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=r,e.characterType=i,e.isCharInvariant=o}},isDefinitelyNonEmpty:function(){var e=this.characterType;return e==be||e==Se},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType=Ce),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType=Ce),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t,n=this;n=n.previousVisible();)if(t=n.getCharacter(e),""!==t)return n;return null},getCharacter:function(e){function t(){return h||(l=g.getPrecedingUncollapsedPosition(e),h=!0),l}this.resolveLeadingAndTrailingSpaces();var n,r=this.character,i=o(e.ignoreCharacters),a=""!==r&&i.indexOf(r)>-1;if(this.isCharInvariant)return n=a?"":r;var s=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,i].join("_"),u=this.cache.get(s);if(null!==u)return u;var c,l,f="",d=this.characterType==Ce,h=!1,g=this;return d&&(this.type==Oe?f="\n":" "==r&&(!t()||l.isTrailingSpace||"\n"==l.character||" "==l.character&&l.characterType==Ce)||("\n"==r&&this.isLeadingSpace?t()&&"\n"!=l.character&&(f="\n"):(c=this.nextUncollapsed(),c&&(c.isBr?this.type=Re:c.isTrailingSpace&&"\n"==c.character?this.type=Ne:c.isLeadingSpace&&"\n"==c.character&&(this.type=we),"\n"==c.character?(this.type!=Re||e.includeSpaceBeforeBr)&&(this.type!=we||e.includeSpaceBeforeBlock)&&(this.type==Ne&&c.isTrailingSpace&&!e.includeBlockContentTrailingSpace||(this.type!=_e||c.type!=be||e.includePreLineTrailingSpace)&&("\n"==r?c.isTrailingSpace?this.isTrailingSpace||this.isBr&&(c.type=Ee,t()&&l.isLeadingSpace&&!l.isTrailingSpace&&"\n"==l.character?c.character="":c.type=Oe):f="\n":" "==r&&(f=" "))):f=r)))),i.indexOf(f)>-1&&(f=""),this.cache.set(s,f),f},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:E,toString:function(){return this.character}};_.prototype=xe,U(xe,{next:N("nextPos",function(e){var t=e.nodeWrapper,n=e.node,r=e.offset,i=t.session;if(!n)return null;var o,a,s;return r==t.getLength()?(o=n.parentNode,a=o?t.getNodeIndex()+1:0):t.isCharacterDataNode()?(o=n,a=r+1):(s=n.childNodes[r],i.getNodeWrapper(s).containsPositions()?(o=s,a=0):(o=n,a=r+1)),o?i.getPosition(o,a):null}),previous:N("previous",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return 0==a?(t=o.parentNode,n=t?i.getNodeIndex():0):i.isCharacterDataNode()?(t=o,n=a-1):(r=o.childNodes[a-1],s.getNodeWrapper(r).containsPositions()?(t=r,n=q.getNodeLength(r)):(t=o,n=a-1)),t?s.getPosition(t,n):null}),nextVisible:N("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:N("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:N("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var ke=null,Me=function(){function e(e){var t=new w;return{get:function(n){var r=t.get(n[e]);if(r)for(var i,o=0;i=r[o++];)if(i.node===n)return i;return null},set:function(n){var r=n.node[e],i=t.get(r)||t.set(r,[]);i.push(n)}}}function t(){this.initCaches()}var n=G.isHostProperty(document.documentElement,"uniqueID");return t.prototype={initCaches:function(){this.elementCache=n?function(){var e=new w;return{get:function(t){return e.get(t.uniqueID)},set:function(t){e.set(t.node.uniqueID,t)}}}():e("tagName"),this.textNodeCache=e("data"),this.otherNodeCache=e("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new R(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},t}();U(q,{nextNode:v,previousNode:m});var Te=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1};U(e.rangePrototype,{moveStart:D(!0,!1),moveEnd:D(!1,!1),move:D(!0,!0),trimStart:H(!0),trimEnd:H(!1),trim:L(function(e,t){var n=this.trimStart(t),r=this.trimEnd(t);return n||r}),expand:L(function(e,t,n){var r=!1;n=s(n,fe);var i=n.characterOptions;if(t||(t=V),t==z){var o,a,u=n.wordOptions,c=e.getRangeBoundaryPosition(this,!0),l=e.getRangeBoundaryPosition(this,!1),f=T(c,i,u),d=f.nextEndToken(),h=d.chars[0].previousVisible();if(this.collapsed)o=d;else{var g=T(l,i,u);o=g.previousStartToken()}return a=o.chars[o.chars.length-1],h.equals(c)||(this.setStart(h.node,h.offset),r=!0),a&&!a.equals(l)&&(this.setEnd(a.node,a.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}return this.moveEnd(V,1,n)}),text:L(function(e,t){return this.collapsed?"":B(e,this,K(t,ae)).join("")}),selectCharacters:L(function(e,t,n,r,i){var o={characterOptions:i};t||(t=$(this.getDocument())),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,o),this.collapse(!0),this.moveEnd("character",r-n,o)}),toCharacterRange:L(function(e,t,n){t||(t=$(this.getDocument()));var r,i,o=t.parentNode,a=q.getNodeIndex(t),s=q.comparePoints(this.startContainer,this.endContainer,o,a)==-1,u=this.cloneRange();return s?(u.setStartAndEnd(this.startContainer,this.startOffset,o,a),r=-u.text(n).length):(u.setStartAndEnd(o,a,this.startContainer,this.startOffset),r=u.text(n).length),i=r+this.text(n).length,{start:r,end:i}}),findText:L(function(t,n,r){r=s(r,ce),r.wholeWordsOnly&&(r.wordOptions.includeTrailingSpace=!1);var i=ee(r.direction),o=r.withinRange;o||(o=e.createRange(),o.selectNodeContents(this.getDocument()));var a=n,u=!1;"string"==typeof a?r.caseSensitive||(a=a.toLowerCase()):u=!0;var c=t.getRangeBoundaryPosition(this,!i),l=o.comparePoint(c.node,c.offset);l===-1?c=t.getRangeBoundaryPosition(o,!0):1===l&&(c=t.getRangeBoundaryPosition(o,!1));for(var f,d=c,h=!1;;)if(f=I(d,a,u,o,r)){if(f.valid)return this.setStartAndEnd(f.startPos.node,f.startPos.offset,f.endPos.node,f.endPos.offset),!0;d=i?f.startPos:f.endPos}else{if(!r.wrap||h)return!1;o=o.cloneRange(),d=t.getRangeBoundaryPosition(o,!i),o.setBoundary(c.node,c.offset,i),h=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),U(e.selectionPrototype,{expand:L(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:L(function(e,t,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var o=this.getRangeAt(0);r||(r={}),r.characterOptions=K(r.characterOptions,se),i=o.move(t,n,r),this.setSingleRange(o)}return i}),trimStart:j("trimStart"),trimEnd:j("trimEnd"),trim:j("trim"),selectCharacters:L(function(t,n,r,i,o,a){var s=e.createRange(n);s.selectCharacters(n,r,i,a),this.setSingleRange(s,o)}),saveCharacterRanges:L(function(e,t,n){for(var r=this.getAllRanges(),i=r.length,o=[],a=1==i&&this.isBackward(),s=0,u=r.length;s<u;++s)o[s]={characterRange:r[s].toCharacterRange(t,n),backward:a,characterOptions:n};return o}),restoreCharacterRanges:L(function(t,n,r){this.removeAllRanges();for(var i,o,a,s=0,u=r.length;s<u;++s)o=r[s],a=o.characterRange,i=e.createRange(n),i.selectCharacters(n,a.start,a.end,o.characterOptions),this.addRange(i,o.backward)}),text:L(function(e,t){for(var n=[],r=0,i=this.rangeCount;r<i;++r)n[r]=this.getRangeAt(r).text(t);return n.join("")})}),e.innerText=function(t,n){var r=e.createRange(t);r.selectNodeContents(t);var i=r.text(n);return i},e.createWordIterator=function(e,t,n){var r=x();n=s(n,de);var i=r.getPosition(e,t),o=T(i,n.characterOptions,n.wordOptions),a=ee(n.direction);return{next:function(){return a?o.previousStartToken():o.nextEndToken()},dispose:function(){o.dispose(),this.next=function(){}}}},e.noMutation=function(e){var t=x();e(t),k()},e.noMutation.createEntryPointFunction=L,e.textRange={isBlockNode:f,isCollapsedWhitespaceNode:b,createPosition:L(function(e,t,n){return e.getPosition(t,n)})}}),e},this)}])});
//# sourceMappingURL=editable.js.map
